(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3728],{70819:function(e,n,s){"use strict";s.r(n),s.d(n,{default:function(){return L}});var i=s(30454),a=s(9008),t=s(59499),l=s(45046),r=s(10684),d=s(97985),c=s(32701),o=s(25617),u=s(67294),h=s(11163),m=s(62816),x=s(30381),j=s.n(x),v=s(44681),p=s(72132),b=s(96035),f=s(17255),g=s(34264),N=s(58719),y=s(37342),k=s(16385),w=s(86455),S=s.n(w),P=s(27),R=(s(17563),s(85893));function Z(e,n){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),s.push.apply(s,i)}return s}function A(e){for(var n=1;n<arguments.length;n++){var s=null!=arguments[n]?arguments[n]:{};n%2?Z(Object(s),!0).forEach((function(n){(0,t.Z)(e,n,s[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):Z(Object(s)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(s,n))}))}return e}var O={hotel:b.Z,flight:f.Z,product:N.Z};var C=function(){var e,n,s,i,a,x,b,f,N,w,Z,C,M,T,_,D,L,E,I,B,Y,F,H=(0,o.v9)((function(e){return e.token})).access_token,q=(0,h.useRouter)(),K=(0,u.useState)(),U=K[0],z=K[1],J=(0,u.useState)(!0),Q=J[0],X=J[1],G=(0,u.useState)({days:0,hours:0,minutes:0,seconds:0}),W=G[0],V=G[1],$=(0,u.useState)(),ee=$[0],ne=$[1],se=(0,u.useState)(!1),ie=se[0],ae=se[1],te=(0,u.useState)(!1),le=te[0],re=te[1],de=(0,u.useState)(""),ce=de[0],oe=de[1],ue=(0,u.useState)(1),he=ue[0],me=ue[1],xe=(0,u.useState)(!1),je=xe[0],ve=xe[1],pe=(0,u.useState)([]),be=pe[0],fe=pe[1],ge=(0,u.useState)(!1),Ne=ge[0],ye=ge[1],ke=(0,u.useState)(0),we=ke[0],Se=ke[1],Pe=(0,u.useState)(0),Re=Pe[0],Ze=Pe[1],Ae=(0,u.useState)({kebersihan:0,kenyamanan:0,lokasi:0,fasilitas:0,staff:0,harga:0,layanan:0,parkir:0,makanan:0}),Oe=Ae[0],Ce=Ae[1],Me=(0,u.useState)([]),Te=Me[0],_e=Me[1],De=(0,u.useState)({}),Le=De[0],Ee=De[1],Ie=function(e,n){Ce((function(s){return A(A({},s),{},(0,t.Z)({},e,n))}))},Be=(0,u.useState)({title_review:"",content_review:""}),Ye=Be[0],Fe=Be[1],He=function(e){var n=e.target,s=n.value,i=n.name;Fe((function(e){return A(A({},e),{},(0,t.Z)({},i,s))}))},qe=function(){var e=ce;try{""===e?p.Am.error("Token tidak boleh kosong"):S().fire({title:"Apakah Anda sudah yakin?",text:"Dengan menyetujuinya, Anda yakin untuk melanjutkan pemesanan ini.",icon:"info",buttons:["Tidak, batalkan!","Ya, saya yakin!"],dangerMode:!1}).then((function(n){n?S().fire({title:"Pesanan diproses!",text:"Pesanan Anda sedang kami proses.!",icon:"success",closeOnClickOutside:!1,closeOnEsc:!1,timer:15e3,showConfirmButton:!1}).then((function(){var n={product:U.product,key:U.codeId,token:e},s=U.period.codeId,i={note:"B2B",tags:U.product,id_order:[s.toString()],idOrder:[s.toString()]};m.Z.submitIssued(H,n).then((function(e){e.success?(console.log("body",JSON.stringify(i)),m.Z.submitInvoice(H,i).then((function(e){S().fire({title:"Berhasil!",text:"Pesanan Anda berhasil!",icon:"success",closeOnClickOutside:!1,closeOnEsc:!1,showConfirmButton:!1,timer:2e3}).then((function(){window.location.reload()}))}))):p.Am.error('Pesanan Gagal Dipesan "'+e.message+'"')}))})):S().fire("Dibatalkan","Anda membatalkan untuk melakukan pemesanan ini.","error")}))}catch(n){console.error(n)}},Ke=function(){ne((function(e){return!e}))};(0,u.useEffect)((function(){U&&setInterval((function(){var e,n=Date.parse(j()(null===U||void 0===U||null===(e=U.status)||void 0===e?void 0:e.timelimit,"DD MMM YYYY HH:mm").toDate())-Date.parse(new Date);if(n<0)V({days:0,hours:0,minutes:0,seconds:0});else{var s=Math.floor(n/1e3%60),i=Math.floor(n/1e3/60%60),a=Math.floor(n/36e5%24),t=Math.floor(n/864e5);V({days:t,hours:a,minutes:i,seconds:s})}}),1e3)}),[U]),(0,u.useEffect)((function(){X(!0),q.isReady&&m.Z.getPurchase(H,{key:q.query.id}).then((function(e){e.success&&z(e.data),X(!1)}))}),[q.query.id,Ne]);var Ue=function(e){fe(e),ve((function(e){return!e}))},ze=function(){S().fire({title:"Anda yakin ingin membatalkan pesanan?",icon:"info",text:U.room.cancellationPolicy,confirmButtonText:"Yakin",confirmButtonColor:"#0070BA"}).then((function(e){e.isConfirmed&&(null===U||void 0===U||!U.isRefund||Le.accountNumber&&Le.customerName&&Le.customerName&&Le.reason?m.Z.createCancellation(H,A(A({},Le),{},{key:q.query.id,product:U.product})).then((function(e){e.success?(p.Am.success("Pembatalan berhasil"),window.location.reload()):p.Am.error(e.message)})):p.Am.error("Data tidak lengkap"))}))};(0,u.useEffect)((function(){P.Z.getPayments(H).then((function(e){e.success&&_e(e.data)}))}),[]);var Je=function(e){var n=e.target,s=n.name,i=n.value;Ee((function(e){return A(A({},e),{},(0,t.Z)({},s,i))}))};if(Q)return(0,R.jsxs)("div",{style:{height:"50vh",marginBottom:"5rem"},className:"d-flex flex-column align-items-center justify-content-center",children:[(0,R.jsx)("img",{src:"https://cdn.masterdiskon.com/masterdiskon/assets/front/img/src/pulse-spinner.svg"}),(0,R.jsx)("h4",{children:"Sedang menyiapkan data..."})]});if(!U)return(0,R.jsx)("div",{style:{height:"50vh",marginBottom:"5rem"},className:"d-flex flex-column align-items-center justify-content-center",children:(0,R.jsx)("h4",{children:"Data pesanan tidak ditemukan"})});var Qe=O[U.product];return(0,R.jsxs)(R.Fragment,{children:[j()(Date()).isBefore(j()(null===U||void 0===U||null===(e=U.status)||void 0===e?void 0:e.timelimit,"DD MMM YYYY HH:mm"))&&3===U.status.id&&(0,R.jsx)("section",{id:"timer",className:"bg-danger py-2",children:(0,R.jsx)("div",{className:"container",children:(0,R.jsxs)("div",{className:"d-flex justify-content-center align-items-center",children:[(0,R.jsx)("span",{className:"mr-3 text-white",children:"Batas Pembayaran"}),(0,R.jsxs)("span",{id:"hitungmundur",className:"d-flex",children:[(0,R.jsxs)("div",{className:"rounded bg-light opacity-50 border border-dark text-center p-1 mr-2",children:[(0,R.jsx)("b",{children:(0,R.jsx)("span",{className:"angka",children:W.hours})})," h "]}),(0,R.jsxs)("div",{className:"rounded bg-white opacity-50 border border-dark text-center p-1 mr-2",children:[(0,R.jsx)("b",{children:(0,R.jsx)("span",{className:"angka",children:W.minutes})})," m "]}),(0,R.jsxs)("div",{className:"rounded bg-white opacity-50 border border-dark text-center p-1 mr-2",children:[(0,R.jsx)("b",{children:(0,R.jsx)("span",{className:"angka",children:W.seconds})})," s "]})]})]})})}),(0,R.jsx)("section",{className:"my-3",children:(0,R.jsx)("div",{className:"container",children:(0,R.jsxs)("div",{className:"row",children:[(0,R.jsxs)("div",{className:"col-md-8 kotak-md-1 px-0-sm",children:[U.isCancel&&(0,R.jsx)("button",{onClick:function(){return null!==U&&void 0!==U&&U.isRefund?ae((function(e){return!e})):ze()},type:"button",className:"btn mb-3 btn-danger btn-md btn-block",children:"Batalkan Pesanan"}),(0,R.jsxs)("div",{className:"card mb-4",style:{borderRadius:"15px"},children:[(0,R.jsx)("div",{className:"card-header py-3",children:(0,R.jsx)("h6",{className:"font-weight-bold text-primary",children:"Detail Pesanan"})}),13===U.status.id?(0,R.jsx)("div",{className:"card-body border-bottom bg-danger py-2 bayar-disini rounded-bottom text-white",children:(0,R.jsx)(g.Z,{clickable:le,handleOpenPayment:Ke,handleSubmitIssued:qe,purchase:U,setClickable:re,setTokenIssued:oe})}):(0,R.jsx)("div",{className:"card-body border-bottom bg-warning py-2 bayar-disini rounded-bottom",children:(0,R.jsx)(g.Z,{clickable:le,handleOpenPayment:Ke,handleSubmitIssued:qe,purchase:U,setClickable:re,setTokenIssued:oe})})]}),(0,R.jsxs)("div",{className:"card mb-4",style:{borderRadius:"20px"},children:[(0,R.jsx)("div",{className:"card-header border-top",children:(0,R.jsx)("span",{className:"card-title",children:(0,R.jsx)("b",{children:"Produk"})})}),(0,R.jsxs)("div",{className:"card-product",children:[(0,R.jsx)(Qe,{purchase:U}),(0,R.jsx)("hr",{}),U.guest&&(0,R.jsxs)("div",{className:"card-body",children:[(0,R.jsx)("h5",{children:"Tamu"}),(0,R.jsx)("div",{className:"table-responsive",children:(0,R.jsxs)("table",{id:"myTable",className:"table m-0 table-striped table-hover table-sm",children:[(0,R.jsx)("thead",{children:(0,R.jsxs)("tr",{children:[(0,R.jsx)("th",{children:"No"}),(null===(n=U.guest[0])||void 0===n?void 0:n.title)&&(0,R.jsx)("th",{children:"Title"}),(0,R.jsx)("th",{children:"Nama"}),(null===(s=U.guest[0])||void 0===s?void 0:s.dob)&&(0,R.jsx)("th",{children:"Tanggal Lahir"}),(null===(i=U.guest[0])||void 0===i?void 0:i.type)&&(0,R.jsx)("th",{children:"Tipe"}),(null===(a=U.guest[0])||void 0===a?void 0:a.identificationNumber)&&(0,R.jsx)("th",{children:"NIK"}),(null===(x=U.guest[0])||void 0===x||null===(b=x.passport)||void 0===b?void 0:b.nat)&&(0,R.jsx)("th",{children:"Negara"}),(null===(f=U.guest[0])||void 0===f||null===(N=f.passport)||void 0===N?void 0:N.doi)&&(0,R.jsx)("th",{children:"Passport Issue"}),(null===(w=U.guest[0])||void 0===w||null===(Z=w.passport)||void 0===Z?void 0:Z.doe)&&(0,R.jsx)("th",{children:"Expired Passport"}),(null===(C=U.guest[0])||void 0===C?void 0:C.ssr)&&(0,R.jsx)("th",{children:"Addon"})]})}),(0,R.jsx)("tbody",{children:U.guest.map((function(e,n){var s,i,a,t,l,r;return(0,R.jsxs)("tr",{children:[(0,R.jsx)("td",{children:++n}),(null===e||void 0===e?void 0:e.title)&&(0,R.jsx)("td",{children:null===e||void 0===e?void 0:e.title}),(0,R.jsxs)("td",{children:[e.firstName," ",e.lastName]}),(null===e||void 0===e?void 0:e.dob)&&(0,R.jsx)("td",{children:e.dob}),(null===e||void 0===e?void 0:e.type)&&(0,R.jsx)("td",{children:e.type}),(null===e||void 0===e?void 0:e.identificationNumber)&&(0,R.jsx)("td",{children:e.identificationNumber}),(null===e||void 0===e||null===(s=e.passport)||void 0===s?void 0:s.nat)&&(0,R.jsx)("td",{children:null===e||void 0===e||null===(i=e.passport)||void 0===i?void 0:i.nat}),(null===e||void 0===e||null===(a=e.passport)||void 0===a?void 0:a.doi)&&(0,R.jsx)("td",{children:null===e||void 0===e||null===(t=e.passport)||void 0===t?void 0:t.doi}),(null===e||void 0===e||null===(l=e.passport)||void 0===l?void 0:l.doe)&&(0,R.jsx)("td",{children:null===e||void 0===e||null===(r=e.passport)||void 0===r?void 0:r.doe}),(null===e||void 0===e?void 0:e.ssr)&&(0,R.jsx)("td",{children:(0,R.jsx)("button",{onClick:function(){return Ue(e.ssr)},type:"button",className:"btn btn-sm btn-primary",children:"Check"})})]},n)}))})]})})]}),(0,R.jsx)("hr",{}),"flight"===U.product&&(0,R.jsxs)("div",{className:"card-body",children:[(0,R.jsx)("h5",{children:(0,R.jsx)("b",{children:"Tarif"})}),(0,R.jsx)("div",{className:"table-responsive",children:(0,R.jsxs)("table",{className:"table table-bordered mb-0",children:[(0,R.jsx)("thead",{children:(0,R.jsxs)("tr",{children:[(0,R.jsx)("th",{children:"No"}),(0,R.jsx)("th",{children:"Type"}),(0,R.jsx)("th",{children:"Qty"}),(0,R.jsx)("th",{children:"Price"}),(0,R.jsx)("th",{children:"Fee"}),(0,R.jsx)("th",{children:"Tax"}),(0,R.jsx)("th",{children:"Addons"}),(0,R.jsx)("th",{children:"Total"})]})}),(0,R.jsx)("tbody",{className:"price-flight-list",children:null===(M=function(){if(U){var e=Object.keys(null===U||void 0===U?void 0:U.price.perpax),n=null===U||void 0===U?void 0:U.price.perpax;return e=e.map((function(e){for(var s,i=0;i<n[e].count;i++)s=A(A({},n[e]),{},{type:e});return s}))}}())||void 0===M?void 0:M.map((function(e,n){return(0,R.jsxs)("tr",{children:[(0,R.jsx)("td",{children:++n}),(0,R.jsx)("td",{children:e.type}),(0,R.jsx)("td",{children:e.count}),(0,R.jsxs)("td",{children:["Rp",e.subtotal.toLocaleString()]}),(0,R.jsxs)("td",{children:["Rp",e.fee.toLocaleString()]}),(0,R.jsxs)("td",{children:["Rp",e.tax.toLocaleString()]}),(0,R.jsxs)("td",{children:["Rp",e.addon.toLocaleString()]}),(0,R.jsxs)("td",{children:["Rp",e.total.toLocaleString()]})]})}))})]})})]})]}),(0,R.jsx)("div",{className:"card-header",children:(0,R.jsx)("span",{className:"card-title",children:"Kontak"})}),(0,R.jsx)("div",{className:"card-body",children:(0,R.jsxs)("div",{className:"row",children:[(0,R.jsx)("div",{className:"col-md-4",children:(0,R.jsxs)("div",{children:[(0,R.jsx)("label",{children:(0,R.jsx)("strong",{children:"Nama"})}),(0,R.jsxs)("p",{children:[null===U||void 0===U?void 0:U.contact.firstName," ",null===U||void 0===U?void 0:U.contact.lastName]})]})}),(0,R.jsx)("div",{className:"col-md-4",children:(0,R.jsxs)("div",{children:[(0,R.jsx)("label",{children:(0,R.jsx)("strong",{children:"Telepon"})}),(0,R.jsxs)("p",{children:["+",null===U||void 0===U?void 0:U.contact.phoneCode," ",null===U||void 0===U?void 0:U.contact.phone]})]})}),(0,R.jsx)("div",{className:"col-md-4",children:(0,R.jsxs)("div",{children:[(0,R.jsx)("label",{children:(0,R.jsx)("strong",{children:"Email"})}),(0,R.jsx)("p",{children:null===U||void 0===U?void 0:U.contact.email})]})})]})})]}),"hotel"===U.product&&9===U.status.id&&(0,R.jsx)("div",{className:"row",children:(0,R.jsx)("div",{className:"col-12",children:(0,R.jsx)("div",{class:"card",children:(0,R.jsxs)("div",{class:"card-body",children:[(0,R.jsx)("h4",{children:"Ulasan"}),(0,R.jsxs)("div",{className:"form-group",children:[(0,R.jsx)("label",{children:"Judul Ulasan"}),(0,R.jsx)("input",{type:"text",onChange:He,name:"title_review",value:Ye.title_review,className:"form-control"})]}),(0,R.jsxs)("div",{className:"form-group",children:[(0,R.jsx)("label",{children:"Isi Ulasan"}),(0,R.jsx)("textarea",{onChange:He,name:"content_review",value:Ye.content_review,className:"form-control",rows:3})]}),(0,R.jsxs)("div",{className:"row",children:[(0,R.jsxs)("div",{className:"col-md-4",children:[(0,R.jsxs)("div",{className:"form-group",children:[(0,R.jsx)("label",{children:"Rating"}),(0,R.jsx)(y.Z,{rating:we,setRating:Se})]}),(0,R.jsxs)("div",{className:"form-group",children:[(0,R.jsx)("label",{children:"HelpFull"}),(0,R.jsx)(y.Z,{rating:Re,setRating:Ze})]})]}),(0,R.jsxs)("div",{className:"col-md-4",children:[(0,R.jsxs)("div",{className:"form-group",children:[(0,R.jsx)("label",{children:"Kebersihan"}),(0,R.jsx)(y.Z,{rating:Oe.kebersihan,setRating:function(e){return Ie("kebersihan",e)}})]}),(0,R.jsxs)("div",{className:"form-group",children:[(0,R.jsx)("label",{children:"Kenyamanan"}),(0,R.jsx)(y.Z,{rating:Oe.kenyamanan,setRating:function(e){return Ie("kenyamanan",e)}})]}),(0,R.jsxs)("div",{className:"form-group",children:[(0,R.jsx)("label",{children:"Lokasi"}),(0,R.jsx)(y.Z,{rating:Oe.lokasi,setRating:function(e){return Ie("lokasi",e)}})]}),(0,R.jsxs)("div",{className:"form-group",children:[(0,R.jsx)("label",{children:"Layanan"}),(0,R.jsx)(y.Z,{rating:Oe.layanan,setRating:function(e){return Ie("layanan",e)}})]}),(0,R.jsxs)("div",{className:"form-group",children:[(0,R.jsx)("label",{children:"Makanan"}),(0,R.jsx)(y.Z,{rating:Oe.makanan,setRating:function(e){return Ie("makanan",e)}})]})]}),(0,R.jsxs)("div",{className:"col-md-4",children:[(0,R.jsxs)("div",{className:"form-group",children:[(0,R.jsx)("label",{children:"Fasilitas"}),(0,R.jsx)(y.Z,{rating:Oe.fasilitas,setRating:function(e){return Ie("fasilitas",e)}})]}),(0,R.jsxs)("div",{className:"form-group",children:[(0,R.jsx)("label",{children:"Staff"}),(0,R.jsx)(y.Z,{rating:Oe.staff,setRating:function(e){return Ie("staff",e)}})]}),(0,R.jsxs)("div",{className:"form-group",children:[(0,R.jsx)("label",{children:"Harga"}),(0,R.jsx)(y.Z,{rating:Oe.harga,setRating:function(e){return Ie("harga",e)}})]}),(0,R.jsxs)("div",{className:"form-group",children:[(0,R.jsx)("label",{children:"Parkir"}),(0,R.jsx)(y.Z,{rating:Oe.parkir,setRating:function(e){return Ie("parkir",e)}})]})]})]}),(0,R.jsx)("div",{className:"d-flex justify-content-end w-100",children:(0,R.jsx)("button",{type:"button",onClick:function(){var e=A(A({},Ye),{},{id_order:q.query.id,id_review_type:2,helpful:Re,rating:we,fullreview:Oe});k.Z.addReview(e,H).then((function(e){e.success?p.Am.success("Ulasan berhasil dikirim"):p.Am.error("Ulasan tidak lengap")}))},className:"btn btn-primary",children:"Submit"})})]})})})})]}),(0,R.jsxs)("div",{className:"col-md-4 kotak-md-2 order-1 px-0-sm",children:[(0,R.jsxs)("div",{className:"card shadow card-body mb-3 border-0 bg-primary text-white",children:[(0,R.jsx)("p",{className:"mb-0",children:(0,R.jsx)("small",{children:"TOTAL PEMBELIAN"})}),(0,R.jsxs)("h3",{children:[" ",(0,R.jsxs)("b",{children:["Rp",null===U||void 0===U?void 0:U.price.total.toLocaleString()]})]})]}),0!=(null===U||void 0===U?void 0:U.codeinv)?(0,R.jsx)("div",{className:"card-body border-bottom bg-warning py-2 bayar-disini rounded-bottom",children:(0,R.jsx)("div",{className:"row",children:(0,R.jsx)("div",{className:"col-md-12",children:(0,R.jsx)("div",{className:"form-group",children:(0,R.jsx)("a",{href:"https://cdn.masterdiskon.com/masterdiskon/order/invoice/2023/"+(null===U||void 0===U?void 0:U.codeinv)+".pdf?",target:"_blank",type:"button",class:"btn btn-block btn-primary  ",children:"Cetak Invoice"})})})})}):(0,R.jsx)(R.Fragment,{}),(0,R.jsxs)("div",{className:"card shadow mb-3 border-0",children:[(0,R.jsxs)("div",{className:"card-body border-bottom",children:[(0,R.jsx)("p",{className:"mb-0 text-muted",children:(0,R.jsx)("small",{children:"NO PESANAN"})}),(0,R.jsx)("span",{children:null===U||void 0===U?void 0:U.code})]}),(0,R.jsxs)("div",{className:"card-body border-bottom",children:[(0,R.jsx)("p",{className:"mb-0 text-muted",children:(0,R.jsx)("small",{children:"STATUS PESANAN"})}),(0,R.jsx)("p",{className:"badge badge-".concat(null===U||void 0===U?void 0:U.status.color," mb-0"),children:null===U||void 0===U?void 0:U.status.name}),(0,R.jsx)("p",{className:"mb-0",children:null===U||void 0===U?void 0:U.status.description})]}),(0,R.jsxs)("div",{className:"card-body border-bottom",children:[(0,R.jsx)("p",{className:"mb-0 text-muted",children:(0,R.jsx)("small",{children:"RIWAYAT PESANAN"})}),(0,R.jsx)("div",{className:"riwayat-pesanan",children:null===U||void 0===U?void 0:U.status.history.map((function(e){return(0,R.jsxs)("div",{className:"d-flex justify-content-between my-2",children:[(0,R.jsx)("span",{children:(0,R.jsx)("strong",{children:e.status})}),(0,R.jsx)("span",{children:e.date})]})}))})]}),(0,R.jsxs)("div",{className:"card-body",children:[(0,R.jsx)("p",{className:"mb-0 text-muted",children:(0,R.jsx)("small",{children:"RINCIAN PEMBAYARAN"})}),(0,R.jsxs)("div",{className:"d-flex justify-content-between my-2",children:[(0,R.jsx)("span",{children:(0,R.jsx)("strong",{children:"Subtotal"})}),(0,R.jsxs)("span",{children:["Rp",null===U||void 0===U?void 0:U.price.subtotal.toLocaleString()]})]}),"flight"===U.product?(0,R.jsxs)("div",{className:"d-flex justify-content-between my-2",children:[(0,R.jsx)("span",{children:(0,R.jsx)("strong",{children:"Pajak dan lainnya "})}),(0,R.jsxs)("span",{className:"tax-and-more",children:["Rp",((null===U||void 0===U?void 0:U.price.tax)+(null===U||void 0===U?void 0:U.price.iwjr)+(null===U||void 0===U?void 0:U.price.fee2)).toLocaleString()]})]}):(0,R.jsxs)("div",{className:"d-flex justify-content-between my-2",children:[(0,R.jsx)("span",{children:(0,R.jsx)("strong",{children:"Pajak"})}),(0,R.jsx)("span",{className:"text_fee",children:(0,R.jsxs)("strong",{children:["Rp",((null===U||void 0===U?void 0:U.price.total)-(null===U||void 0===U?void 0:U.price.subtotal)).toLocaleString()]})})]}),"flight"===U.product&&(0,R.jsxs)("div",{className:"d-flex justify-content-between my-2",children:[(0,R.jsx)("span",{children:(0,R.jsx)("strong",{children:"Tambahan"})}),(0,R.jsxs)("span",{className:"extra-flight",children:["Rp",null===U||void 0===U?void 0:U.price.addon]})]}),(0,R.jsxs)("div",{className:"d-flex justify-content-between my-2",children:[(0,R.jsx)("span",{children:(0,R.jsx)("strong",{children:"Biaya Penanganan"})}),(0,R.jsxs)("span",{children:["Rp",null===U||void 0===U?void 0:U.price.fee.toLocaleString()]})]}),(null===U||void 0===U?void 0:U.price.point)>0&&(0,R.jsxs)("div",{className:"d-flex justify-content-between my-2",children:[(0,R.jsx)("span",{children:(0,R.jsx)("strong",{children:(0,R.jsx)("small",{children:"Point digunakan"})})}),(0,R.jsxs)("span",{className:"text-danger",children:["-",null===U||void 0===U?void 0:U.price.point.toLocaleString()]})]}),(null===U||void 0===U?void 0:U.price.discount)>0&&(0,R.jsxs)("div",{className:"d-flex justify-content-between my-2",children:[(0,R.jsx)("span",{children:(0,R.jsx)("strong",{children:(0,R.jsx)("small",{children:"Diskon"})})}),(0,R.jsxs)("span",{className:"text-danger",children:["-Rp",null===U||void 0===U?void 0:U.price.discount.toLocaleString()]})]}),(0,R.jsxs)("div",{className:"d-flex justify-content-between my-2",children:[(0,R.jsx)("span",{children:(0,R.jsx)("strong",{children:"Total tagihan"})}),(0,R.jsxs)("b",{children:["Rp",null===U||void 0===U?void 0:U.price.total.toLocaleString()]})]})]})]}),(0,R.jsx)("div",{className:"list-group-item ",children:(0,R.jsxs)("div",{className:"d-flex w-100 justify-content-between",children:[(0,R.jsxs)("div",{children:[(0,R.jsx)("b",{children:null===U||void 0===U||null===(T=U.payments)||void 0===T?void 0:T.id}),(0,R.jsx)("p",{className:"mb-0",children:(0,R.jsx)("span",{className:"badge badge-success",children:null===U||void 0===U||null===(_=U.payments)||void 0===_||null===(D=_.history[0])||void 0===D?void 0:D.status})})]}),(0,R.jsx)("div",{className:"text-right",children:(0,R.jsx)("small",{children:null===U||void 0===U||null===(L=U.payments)||void 0===L||null===(E=L.history[0])||void 0===E?void 0:E.date})})]})})]})]})})}),(0,R.jsxs)(l.Z,{isOpen:ee,toggle:Ke,centered:!0,size:"lg",children:[(0,R.jsx)(r.Z,{children:(0,R.jsx)(v.Z,{handleChangePaymentMethod:function(e){me(e)},paymentMethodSelected:null!==U&&void 0!==U&&null!==(I=U.payments)&&void 0!==I&&null!==(B=I.selected)&&void 0!==B&&B.id?null===U||void 0===U||null===(Y=U.payments)||void 0===Y||null===(F=Y.selected)||void 0===F?void 0:F.id:he,flightRepricing:U})}),(0,R.jsx)(d.Z,{children:(0,R.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){m.Z.changePaymentMethod(H,{product:U.product,key:q.query.id,paymentMethod:he}).then((function(e){e.success?p.Am.success("Metode pembayaran berhasil diubah"):p.Am.error("Metode pembayaran sudah tidak diubah"),ye((function(e){return!e})),Ke()}))},children:"Simpan perubahan"})})]}),(0,R.jsxs)(l.Z,{isOpen:je,centered:!0,size:"lg",children:[(0,R.jsx)(c.Z,{toggle:function(){return Ue([])},children:(0,R.jsx)("h4",{children:"Additional Details of Baggage and Meal"})}),(0,R.jsx)(r.Z,{children:(0,R.jsxs)("table",{className:"table",children:[(0,R.jsx)("thead",{children:(0,R.jsxs)("tr",{children:[(0,R.jsx)("th",{children:"No"}),(0,R.jsx)("th",{children:"Tipe"}),(0,R.jsx)("th",{children:"Nama"}),(0,R.jsx)("th",{children:"Harga"})]})}),(0,R.jsx)("tbody",{children:be.map((function(e,n){return(0,R.jsxs)("tr",{children:[(0,R.jsx)("td",{scope:"row",children:++n}),(0,R.jsx)("td",{children:e.ssrType}),(0,R.jsx)("td",{children:"meal"===e.ssrType?e.code.split("=")[0]:"".concat(Math.floor(e.code.split(";")[0]),"Kg")}),(0,R.jsx)("td",{children:"meal"===e.ssrType?"Rp".concat(Math.floor(e.code.split("=")[1]).toLocaleString()):"Rp".concat(Math.floor(e.code.split(";")[1]).toLocaleString())})]})}))})]})})]}),(0,R.jsxs)(l.Z,{isOpen:ie,toggle:function(){return ae((function(e){return!e}))},centered:!0,size:"md",children:[(0,R.jsx)(c.Z,{toggle:function(){return ae((function(e){return!e}))},children:(0,R.jsx)("h5",{className:"font-weight-bold",children:"Form Refund"})}),(0,R.jsx)(r.Z,{children:(0,R.jsxs)("div",{className:"row",children:[(0,R.jsx)("div",{className:"col-12",children:(0,R.jsxs)("div",{className:"form-group",children:[(0,R.jsx)("label",{children:"No Rekening"}),(0,R.jsx)("input",{onChange:Je,name:"accountNumber",value:Le.accountNumber,type:"text",className:"form-control","aria-describedby":"helpId",placeholder:"Masukan no rekening anda..."})]})}),(0,R.jsx)("div",{className:"col-12",children:(0,R.jsxs)("div",{className:"form-group",children:[(0,R.jsx)("label",{children:"Pemilik Rekening"}),(0,R.jsx)("input",{onChange:Je,name:"customerName",value:Le.customerName,type:"text",className:"form-control","aria-describedby":"helpId",placeholder:"Masukan nama pemilik rekening..."})]})}),(0,R.jsx)("div",{className:"col-12",children:(0,R.jsxs)("div",{className:"form-group",children:[(0,R.jsx)("label",{children:"Bank"}),(0,R.jsx)("select",{onChange:Je,value:Le.idPayment,class:"form-control",name:"idPayment",id:"",children:Te.map((function(e){return(0,R.jsx)("option",{value:e.id_payment,children:e.bank_name})}))})]})}),(0,R.jsx)("div",{className:"col-12",children:(0,R.jsxs)("div",{className:"form-group",children:[(0,R.jsx)("label",{htmlFor:!0,children:"Alasan Pembatalan"}),(0,R.jsx)("textarea",{onChange:Je,name:"reason",value:Le.reason,className:"form-control",rows:3,placeholder:"Masukan alasan pembatalan..."})]})}),(0,R.jsx)("div",{className:"col-12 d-flex justify-content-end",children:(0,R.jsx)("button",{type:"button",onClick:ze,className:"btn btn-primary",children:"Kirim"})})]})})]})]})},M=s(98583),T=s(3467),_=s(1852);function D(){var e=(0,_.useMediaQuery)({query:"(max-width: 1224px)"})?M.Z:C;return(0,R.jsxs)(R.Fragment,{children:[(0,R.jsx)(a.default,{children:(0,R.jsx)("title",{children:"Pembelian . masterdiskon.com"})}),(0,R.jsx)(e,{})]})}D.Layout={desktop:i.Z,mobile:u.Fragment};var L=(0,T.Z)(D,{auth:!0,pathAfterFailure:"/login"})},70619:function(e,n,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/purchase/train/[id]",function(){return s(70819)}])}},function(e){e.O(0,[6319,1954,186,7381,542,5496,4317,1844,9512,454,6385,7490,4721,9774,2888,179],(function(){return n=70619,e(e.s=n);var n}));var n=e.O();_N_E=n}]);