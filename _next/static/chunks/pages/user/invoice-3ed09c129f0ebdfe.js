(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7240],{66883:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return L}});var s=a(9008),n=a(8458),i=a(7675),r=a(16835),o=a(59499),c=a(67294),l=a(1954),d=a(66333),u=a(32424),h=(a(89216),a(41664),a(186)),p=a(30653),m=a(20627),f=a(85893),x=h.default.div.withConfig({displayName:"CardInvoice__CardStyled",componentId:"sc-6l8krt-0"})(["@media screen and (max-width:1224px){.label-price,.label-icon{font-size:12px;line-height:17px;}}"]);var y=function(e){var t=(0,c.useState)(!1),a=t[0],s=t[1],n=e.data;return e.key,(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(x,{className:"card bg-white mb-2",children:[(0,f.jsx)("div",{className:"card-body border-bottom py-2",children:(0,f.jsx)("div",{className:"media text-muted",children:(0,f.jsx)("div",{className:"media-body",children:(0,f.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,f.jsx)("p",{className:"mb-1 label-icon",children:(0,f.jsx)("small",{className:"font-weight-bold",children:n[4]})}),(0,f.jsx)("div",{className:"text-primary label-price",children:(0,f.jsxs)("b",{children:["Rp.",n[3]]})})]})})})}),(0,f.jsx)("div",{className:"card-body border-bottom py-2",children:(0,f.jsx)("div",{className:"media text-muted",children:(0,f.jsx)("div",{className:"media-body",children:(0,f.jsx)("div",{className:"media",children:(0,f.jsxs)("div",{className:"d-flex w-100 justify-content-between flex-row",children:[(0,f.jsxs)("div",{className:"d-block label-price",children:[(0,f.jsxs)("p",{className:"mb-0 text-primary",children:[" ",(0,f.jsxs)("strong",{children:[" Invoice ID : ",n[1]," "]})," - ",(0,p.ZP)(n[5])," "]}),(0,f.jsxs)("div",{className:"font-weight-bold",children:[(0,f.jsx)(l.JO,{icon:n[8].includes("Hotel")?u.Z:d.Z,className:"mr-2"}),n[9]]})]}),(0,f.jsxs)("div",{children:[n[10]?(0,f.jsx)("button",{className:"btn btn-info btn-sm text-white",onClick:function(){return s(!a)},style:{cursor:"pointer",marginRight:"5px"},title:"History Pembayaran",children:(0,f.jsx)("i",{class:"fas fa-history"})}):(0,f.jsx)(f.Fragment,{}),(0,p.ZP)(n[7])]})]})})})})}),(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(m.Z,{isOpen:a,className:"text-justify",children:(0,f.jsxs)("div",{style:{padding:"10px"},children:[" ",(0,p.ZP)(n[11])]})})})]})})},j=a(99556),g=a(17563),v=a(86733),b=a(30071),k=a(30381),w=a.n(k),N=a(25617),O=a(25675),D=a(62816),P=a(11163),S=a(28069),_=a(68579),E=a(1852);function T(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,s)}return a}function Y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?T(Object(a),!0).forEach((function(t){(0,o.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):T(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var C={options:{limit:5},filters:{},meta:null,listPurchase:[]};function M(e){var t=g.parse(e),a={page:1,limit:5,keyword:"",status:""};return"string"===typeof t.page&&(a.page=parseFloat(t.page)),"string"===typeof t.status&&(a.status=t.status),"string"===typeof t.keyword&&(a.keyword=parseFloat(t.keyword)),a}function Z(e,t){switch(t.type){case"FETCH_SUCCESS":return Y(Y({},e),{},{listPurchase:t.payload});case"SET_FILTER_VALUE":return Y(Y({},e),{},{options:Y(Y({},e.options),{},{page:1}),filters:Y(Y({},e.filters),{},(0,o.Z)({},t.filter,t.value))});case"SET_META":return Y(Y({},e),{},{meta:t.payload});case"SET_OPTION_VALUE":return Y(Y({},e),{},{options:Y(Y({},e.options),{},(0,o.Z)({page:1},t.option,t.value))});default:throw new Error}}function I(e){var t=[M(window.location.search)],a=(0,r.Z)(t,1)[0];return Y(Y({},e),{},{options:a})}var U=h.default.div.withConfig({displayName:"AccountInvoice__RootStyled",componentId:"sc-l3ch6v-0"})(["@media screen and (max-width:1224px){padding:15px;}"]),A=function(){var e,t,a=(0,c.useReducer)(Z,C,I),s=a[0],n=a[1],i=(0,N.v9)((function(e){return e.user})),r=((0,N.v9)((function(e){return e.token})).access_token,(0,c.useState)("")),o=r[0],d=r[1],u=(0,c.useState)(null!==(e=s.options.status)&&void 0!==e?e:"All Status"),h=u[0],p=u[1],m=(0,P.useRouter)(),x=(0,c.useRef)(),k=(0,E.useMediaQuery)({query:"(max-width: 1224px)"}),T=(0,c.useState)({checkin:w()().add(-360,"days").toDate(),checkout:w()().add(1,"days").toDate()}),M=T[0],A=T[1],F={start:M.checkin,end:M.checkout};return(0,c.useEffect)((function(){var e=function(e){var t={};return 1!==e.page&&(t.page=e.page),0!==e.status&&(t.status=e.status),""!==e.keyword&&(t.keyword=e.keyword),g.stringify(t,{encode:!1})}(s.options),t=g.stringifyUrl(Y(Y({},g.parseUrl(m.asPath)),{},{query:g.parse(e)}),{encode:!1});m.replace(m.pathname,t,{shallow:!0}).then((function(){window.history.replaceState(Y(Y({},window.history.state),{},{options:Y(Y({},window.history.state.options),{},{shallow:!1})}),"",t)}))}),[s.options]),(0,c.useEffect)((function(){D.Z.getListInvoice(M.checkin,M.checkout,o,i.id_user,h).then((function(e){var t=e.data,a=e.meta;n({type:"FETCH_SUCCESS",payload:t}),n({type:"SET_META",payload:a})}))}),[s.options]),(0,f.jsxs)(f.Fragment,{children:[k&&(0,f.jsx)(_.Z,{title:"Order",onBack:function(){return m.back()}}),(0,f.jsxs)(U,{children:[!k&&(0,f.jsx)("h3",{className:"text-primary font-weight-bold",children:"Invoice"}),(0,f.jsxs)("div",{className:"form-row bg-white p-3",children:[(0,f.jsxs)("div",{className:"col-3",children:[(0,f.jsxs)("label",{style:{marginRight:"20px"},children:[" ",(0,f.jsx)("small",{className:"font-weight-bold",children:"From"})," "]}),(0,f.jsx)(v.default,{style:{marginTop:"-20px"},value:M.checkin,formatDate:b.formatDate,format:"ddd, DD MMM YYYY",parseDate:b.parseDate,dayPickerProps:{selectedDays:[M.checkin],modifiers:F,numberOfMonths:2,locale:"id",localeUtils:b.default,onDayClick:function(){var e;return null===(e=x.current)||void 0===e?void 0:e.getInput().focus()}},onDayChange:function(e){A((function(t){return Y(Y({},t),{},{checkin:e,checkout:w()(e).add(1,"days").toDate()})}))},inputProps:{className:"picker-hotel-checkout",readOnly:!0,style:{cursor:"pointer",boxShadow:"none",color:"black"}}})]}),(0,f.jsxs)("div",{className:"col-3",children:[(0,f.jsxs)("label",{style:{marginRight:"20px"},children:[" ",(0,f.jsx)("small",{className:"font-weight-bold",children:"  To"})," "]}),(0,f.jsx)(v.default,{ref:x,style:{marginTop:"-20px"},format:"ddd, DD MMM YYYY",value:M.checkout,formatDate:b.formatDate,parseDate:b.parseDate,dayPickerProps:{selectedDays:[M.checkout],modifiers:F,numberOfMonths:2,locale:"id",localeUtils:b.default,month:M.checkin,className:"picker-hotel-checkout"},onDayChange:function(e){var t=w()(w()(e).format("YYYY-MM-DD"),"YYYY-MM-DD").isSame(w()(w()(M.checkin).format("YYYY-MM-DD"),"YYYY-MM-DD"));w()(e).isBefore(M.checkin)||t?A((function(t){return Y(Y({},t),{},{checkin:e,checkout:w()(e).add(1,"days").toDate()})})):w()(e).isAfter(w()(M.checkin))&&!t&&A((function(t){return Y(Y({},t),{},{checkout:e})}))},inputProps:{className:"picker-hotel-checkout",readOnly:!0,style:{cursor:"pointer",boxShadow:"none",color:"black"}}})]}),(0,f.jsx)("div",{className:"col-2",children:(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsxs)("label",{style:{marginRight:"20px"},children:[" ",(0,f.jsx)("small",{className:"font-weight-bold",children:"  Status"})," "]}),(0,f.jsxs)("select",{style:{fontSize:"12px",marginTop:"-5px"},value:h,onChange:function(e){return p(e.target.value)},className:"form-control",id:"pilihstatus",children:[(0,f.jsx)("option",{value:"All Status",children:"Semua"}),(0,f.jsx)("option",{value:"Unpaid",children:"Unpaid"}),(0,f.jsx)("option",{value:"Paid",children:"Paid"})]})]})}),(0,f.jsx)("div",{className:"col-3",children:(0,f.jsxs)("div",{className:"form-group",children:[(0,f.jsxs)("label",{style:{marginRight:"20px"},children:[" ",(0,f.jsx)("small",{className:"font-weight-bold",children:"  Search"})," "]}),(0,f.jsx)("div",{className:"input-group mb-3",children:(0,f.jsx)("input",{style:{fontSize:"12px",marginTop:"-5px"},onChange:function(e){return d(e.target.value)},type:"text",className:"form-control",id:"caricode",placeholder:"Cari Transaksi"})})]})}),(0,f.jsx)("div",{className:"col-1",children:(0,f.jsx)("div",{className:"form-group",children:(0,f.jsx)("button",{style:{marginTop:"27px"},onClick:function(){n({type:"SET_OPTION_VALUE",option:"keyword",value:o}),n({type:"SET_OPTION_VALUE",option:"page",value:1}),n({type:"SET_OPTION_VALUE",option:"status",value:h})},className:"btn btn-block btn-outline-secondary btn-sm",type:"button",id:"button-addon2",children:(0,f.jsx)(l.JO,{icon:j.Z})})})})]}),(0,f.jsx)("hr",{}),0===(null===s||void 0===s||null===(t=s.listPurchase)||void 0===t?void 0:t.length)?(0,f.jsx)("div",{className:"row",children:(0,f.jsxs)("div",{className:"col-md-4 offset-4",children:[(0,f.jsx)("div",{style:{width:"100%",height:"30vh",position:"relative"},children:(0,f.jsx)(O.default,{src:"/assets/images/not-found.png",layout:"fill"})}),(0,f.jsx)("h5",{className:"text-center",children:"Data Tidak Ditemukan"})]})}):(0,f.jsxs)(f.Fragment,{children:[s.listPurchase.map((function(e){return(0,f.jsx)(y,{data:e},e)})),s.meta&&(0,f.jsx)("div",{className:"mt-4 pb-5 w-100",children:(0,f.jsx)(S.Z,{onPageChange:function(e){n({type:"SET_OPTION_VALUE",option:"page",value:e})},currentPage:s.meta.page,pageSize:s.meta.limit,totalCount:s.meta.total,className:"pagination-bar"})})]})]})]})},F=a(3467);function R(){return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(s.default,{children:(0,f.jsx)("title",{children:"Purchase . masterdiskon.com"})}),(0,f.jsx)(A,{})]})}R.Layout={desktop:n.Z,mobile:i.Z};var L=(0,F.Z)(R,{auth:!0,pathAfterFailure:"/login"})},78258:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/user/invoice",function(){return a(66883)}])},50247:function(){}},function(e){e.O(0,[1954,186,7381,542,5496,4317,8412,4128,454,8021,9774,2888,179],(function(){return t=78258,e(e.s=t);var t}));var t=e.O();_N_E=t}]);