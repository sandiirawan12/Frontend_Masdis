(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4241],{59352:function(e,n){n.Z={body:'<path d="M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z" fill="currentColor"/>',width:448,height:512}},18924:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return B}});var a=t(67294),s=t(27812),i=t(16835),o=t(59499),l=t(186),r=t(25675),c=t(17563),d=t(25617),u=t(11163),m=t(16385),h=t(1954),p=t(418),x=t(59352),j=t(74078),f=t(93920),g=t(45544),v=t(20627),b=t(45046),N=t(32701),y=t(10684),k=t(72132),w=t(62816),C=t(86455),S=t.n(C),_=t(46610),O=t(50542),E=t(85893);function Z(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function P(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?Z(Object(t),!0).forEach((function(n){(0,o.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Z(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}O.ZP.initialize("G-56R5954QCE");var T={options:{},filters:{},meta:{},hotel:void 0,isLoading:!0};function I(e){var n=c.parse(e),t={product:"hotel",key:"",hotelId:"",option:"",optionDetail:[]};return"string"===typeof n.option&&(t.option=n.option),"string"===typeof n.hotelId&&(t.hotelId=n.hotelId),"string"===typeof n.key&&(t.key=n.key),"string"===typeof n.optionDetail&&(n.optionDetail?t.optionDetail=[n.optionDetail]:t.optionDetail=[]),"object"===typeof n.optionDetail&&(t.optionDetail=n.optionDetail),t}function L(e,n){switch(n.type){case"FETCH_HOTEL":return P(P({},e),{},{isLoading:!0});case"FETCH_HOTEL_SUCCESS":return P(P({},e),{},{hotel:n.payload,isLoading:!1});case"SET_FILTER_VALUE":return P(P({},e),{},{options:P(P({},e.options),{},{page:1}),filters:P(P({},e.filters),{},(0,o.Z)({},n.filter,n.value))});case"SET_META":return P(P({},e),{},{meta:n.payload});case"SET_OPTION_VALUE":return P(P({},e),{},{options:P(P({},e.options),{},(0,o.Z)({page:1},n.option,n.value))});case"SET_OPTIONS_VALUE":return P(P({},e),{},{options:n.value});default:throw new Error}}function R(e){var n=[I(window.location.search)],t=(0,i.Z)(n,1)[0];return P(P({},e),{},{options:t})}var K=l.default.div.withConfig({displayName:"HotelCheckout__ImageContianer",componentId:"sc-3v7lh9-0"})(["width:60px;height:80px;position:relative;> div{position:unset !important;}.image{object-fit:cover;width:100% !important;position:relative !important;height:unset !important;border-radius:10px !important;}"]),A=function(){var e,n,t,i,l,C,Z,I,A,M,F=(0,a.useReducer)(L,T,R),D=F[0],H=F[1],J=(0,d.v9)((function(e){return e})),B=J.token,U=J.user,G=(0,u.useRouter)(),V=(0,a.useState)(),q=V[0],z=V[1],Q=(0,a.useState)(),X=Q[0],W=Q[1],Y=(0,a.useState)([]),$=Y[0],ee=Y[1],ne=(0,a.useState)(!1),te=ne[0],ae=ne[1],se=(0,a.useState)(!1),ie=se[0],oe=se[1],le=(0,a.useState)(""),re=le[0],ce=le[1],de=(0,a.useState)(""),ue=de[0],me=de[1],he=B.access_token,pe=(0,a.useState)(0),xe=pe[0],je=(pe[1],(0,a.useState)(P(P({},U),{},{phoneCode:"62",title:"Mr"}))),fe=je[0],ge=je[1],ve=(0,a.useState)([]),be=ve[0],Ne=ve[1],ye=(0,a.useState)(!1),ke=ye[0],we=ye[1],Ce=(0,a.useState)({type:"adult",title:fe.title,firstName:fe.first,lastName:fe.last}),Se=Ce[0],_e=Ce[1],Oe=(0,a.useState)(!1),Ee=Oe[0],Ze=Oe[1],Pe=(0,a.useState)(""),Te=Pe[0],Ie=Pe[1],Le=(0,a.useState)(!1),Re=Le[0],Ke=Le[1],Ae=(0,a.useState)(!1),Me=Ae[0],Fe=Ae[1],De=function(e){var n=e.target,t=n.name,a=n.value;_e(P(P({},Se),{},(0,o.Z)({},t,a)))},He=function(e){var n=e.target,t=n.name,a=n.value;ge(P(P({},fe),{},(0,o.Z)({},t,a)))},Je=function(e){var n=new Set((0,s.Z)($));n.add(e),ee((0,s.Z)(n)),console.log(re)},Be=function(e){var n=new Set((0,s.Z)($));n.add(e),ee((0,s.Z)(n)),Ge()},Ue=function(e){"umum"===e.type?ee($.filter((function(n){return n!==e.code}))):ee($.filter((function(n){return n!==e.id.toString()})))},Ge=function(){oe((function(e){return!e}))};(0,a.useEffect)((function(){O.ZP.pageview(window.location.pathname+window.location.search);var e=function(e){var n={};return""!==e.key&&(n.key=e.key),""!==e.option&&(n.option=e.option),""!==e.hotelId&&(n.hotelId=e.hotelId),""===e.optionDetail&&e.optionDetail===[]||(n.optionDetail=e.optionDetail),c.stringify(n,{encode:!1})}(D.options),n=c.stringifyUrl(P(P({},c.parseUrl(G.asPath)),{},{query:c.parse(e)}),{encode:!1});G.replace(G.pathname,n,{shallow:!0}).then((function(){window.history.replaceState(P(P({},window.history.state),{},{options:P(P({},window.history.state.options),{},{shallow:!1})}),"",n)}))}),[D.options]),(0,a.useEffect)((function(){return z(P(P({},q),{},{isLoading:!0})),m.Z.getPrebookHotel(he,P(P({},D.options),{},{id:D.options.hotelId})).then((function(e){e.success?(z(P(P({},q),{},{isLoading:!1,data:e.data})),localStorage.setItem("prebook",JSON.stringify(e.data))):e.message.includes("Booking token already exist for this criteria")?localStorage.getItem("prebook")?z(P(P({},q),{},{isLoading:!1,data:JSON.parse(localStorage.getItem("prebook"))})):S().fire({icon:"info",title:"Terjadi Kesalahan",text:"Silahkan pilih ulang pesanan anda",confirmButtonColor:"#0070ba"}).then((function(e){e.isConfirmed&&G.back()})):S().fire({icon:"info",title:"Terjadi Kesalahan",text:"Silahkan pilih ulang pesanan anda",allowOutsideClick:!1,confirmButtonColor:"#0070ba"}).then((function(e){e.isConfirmed&&G.back()}))})),function(){localStorage.removeItem("prebook")}}),[D.options]),(0,a.useEffect)((function(){H({type:"FETCH_HOTEL"}),null!==q&&void 0!==q&&q.data&&m.Z.getCheckoutHotel(he,q.data).then((function(e){e.success?H({type:"FETCH_HOTEL_SUCCESS",payload:e.data}):(k.Am.error("Kamar hotel tidak tersedia"),G.back())}))}),[q]),(0,a.useEffect)((function(){var e=!0;return e&&w.Z.getCountries().then((function(e){e.success&&Ne(e.data)})),function(){e=!1}}),[]),(0,a.useEffect)((function(){var e,n={product:"hotel",key:null===(e=D.hotel)||void 0===e?void 0:e.key,insurance:!1,point:te,coupon:$,paymentMethod:xe,platform:"web",ssr:[]};D.hotel&&m.Z.getCountPrice(he,n).then((function(e){e.success?(W(e.data),function(e){m.Z.cekCoupon(he,e).then((function(e){e.success?console.log("coupon = "+JSON.stringify(e.data)):k.Am.error("Kupon sudah digunakan",{position:"top-right",toastId:"coupon"})}))}(re),console.log("coupon = "+JSON.stringify(e.data)+"----"+re)):(ee($.filter((function(n){return n!==e.note}))),e.message.includes("coupon")&&(ee((0,s.Z)($).filter((function(n){return n!==e.note}))),k.Am.error("Kupon sudah digunakan",{position:"top-right",toastId:"coupon"})))}))}),[D.hotel,xe,te,$]);var Ve=D.hotel;return D.isLoading?(0,E.jsxs)("div",{style:{height:"50vh",marginBottom:"5rem"},className:"d-flex flex-column align-items-center justify-content-center",children:[(0,E.jsx)("img",{src:"https://cdn.masterdiskon.com/masterdiskon/assets/front/img/src/pulse-spinner.svg"}),(0,E.jsx)("h4",{children:"Sedang menyiapkan data..."})]}):(0,E.jsxs)("section",{className:"my-3",children:[(0,E.jsxs)("div",{className:"container",children:[(0,E.jsx)("h5",{className:"font-weight-bold",children:"Pemesanan Hotel"}),(0,E.jsxs)("div",{className:"row",children:[(0,E.jsxs)("div",{className:"col-md-8",children:[(0,E.jsx)("div",{className:"card shadow-sm mb-2",style:{borderRadius:"20px"},children:(0,E.jsxs)("div",{className:"card-body",children:[(0,E.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,E.jsxs)("div",{children:[(0,E.jsx)("h5",{className:"mb-0 font-weight-bold text-primary",children:Ve.name}),(0,E.jsx)("p",{className:"mb-2 namakamar",children:null===(e=Ve.booked.option[0])||void 0===e?void 0:e.name}),(0,E.jsxs)("p",{className:"mb-2 ",children:[(0,E.jsx)("div",{className:"d-inline-block",style:{width:"20px",height:"20px",position:"relative"},children:(0,E.jsx)(r.default,{src:"https://cdn.masterdiskon.com/masterdiskon/icon/fe/location.png",layout:"fill"})}),(0,E.jsx)("span",{className:"namakota",children:Ve.detail.address})]})]}),(0,E.jsx)(K,{children:(0,E.jsx)(r.default,{layout:"fill",src:Ve.image,className:"rounded image"})})]}),(0,E.jsx)("hr",{}),(0,E.jsxs)("div",{className:"row",children:[(0,E.jsxs)("div",{className:"col-md-6",children:[(0,E.jsx)("strong",{children:(0,E.jsx)("span",{children:"Check-in"})}),(0,E.jsxs)("div",{children:[(0,E.jsxs)("p",{className:"mb-0 ckiNckoIndonesia",children:[Ve.booked.dateFrom," - ",Ve.booked.dateTo]}),(0,E.jsx)("p",{className:"mb-2",children:"Malam"})]})]}),(0,E.jsxs)("div",{className:"col-md-3 offset-md-3",children:[(0,E.jsx)("strong",{children:(0,E.jsx)("span",{children:"Jumlah Kamar"})}),(0,E.jsxs)("p",{className:"mb-2 jumlahkamardantamu",children:[null===Ve||void 0===Ve||null===(n=Ve.booked)||void 0===n||null===(t=n.traveller)||void 0===t?void 0:t.length," Kamar / ",null===Ve||void 0===Ve||null===(i=Ve.booked)||void 0===i||null===(l=i.traveller)||void 0===l?void 0:l.reduce((function(e,n){return Number(e)+Number(n.adult)+Number(n.child)+Number(n.infant)}),0)," Tamu"]})]}),(0,E.jsxs)("div",{className:"col-md-12 mt-4",children:[(0,E.jsx)("p",{id:"textmealname",className:"mb-0 ",children:(0,E.jsx)("strong",{children:"Fasilitas"})}),(0,E.jsx)("p",{className:"font-weight-bold text-danger",children:Ve.booked.option[0].facilities})]})]})]})}),(0,E.jsxs)("div",{className:"alert shadow-sm alert-warning",style:{borderRadius:"15px"},children:[(0,E.jsx)("p",{className:"mb-1",children:(0,E.jsx)("b",{children:"Perhatian"})}),(0,E.jsx)("span",{children:"Pengisian nama harus sesuai dengan ID Card yang berlaku (KTP/Passport/KITAS). Master Diskon tidak bertanggung jawab atas kesalahan pengisian nama."})]}),(0,E.jsxs)("div",{className:"card mb-2 shadow-sm",style:{borderRadius:"20px"},children:[(0,E.jsx)("div",{className:"card-header",style:{borderTopLeftRadius:"20px",borderTopRightRadius:"20px",background:"#0070BA",color:"white"},children:(0,E.jsx)("p",{className:"card-title mb-0",children:(0,E.jsx)("b",{children:"Info Kontak (untuk E-ticket/Voucher)"})})}),(0,E.jsxs)("div",{className:"card-body",children:[(0,E.jsxs)("div",{className:"form-row",children:[(0,E.jsx)("div",{className:"col-2",children:(0,E.jsxs)("div",{className:"form-group",children:[(0,E.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Titel"}),(0,E.jsxs)("select",{name:"title",value:null===fe||void 0===fe?void 0:fe.title,onChange:He,id:"title_guest",className:"form-control title",children:[(0,E.jsx)("option",{value:"Mr",children:"Mr."}),(0,E.jsx)("option",{value:"Mrs",children:"Mrs."}),(0,E.jsx)("option",{value:"Ms",children:"Ms."})]})]})}),(0,E.jsx)("div",{className:"col-5",children:(0,E.jsxs)("div",{className:"form-group",children:[(0,E.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Nama Depan"}),(0,E.jsx)("input",{name:"first",value:null===fe||void 0===fe?void 0:fe.first,onChange:He,type:"text",className:"textonly form-control firstnamecontact",required:!0})]})}),(0,E.jsx)("div",{className:"col-5",children:(0,E.jsxs)("div",{className:"form-group",children:[(0,E.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Nama Belakang"}),(0,E.jsx)("input",{name:"last",value:null===fe||void 0===fe?void 0:fe.last,onChange:He,type:"text",className:"textonly form-control form-control lastnamecontact",required:!0})]})}),(0,E.jsx)("div",{className:"col-md-6",children:(0,E.jsxs)("div",{className:"form-group",children:[(0,E.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Telepon"}),(0,E.jsxs)("div",{className:"input-group",children:[(0,E.jsx)("select",{value:null===fe||void 0===fe?void 0:fe.phoneCode,onChange:He,name:"phoneCode",className:"form-control select2 pilihnegara",style:{width:"30%"},children:null===be||void 0===be?void 0:be.map((function(e){return(0,E.jsx)("option",{value:e.phone,children:e.phone})}))}),(0,E.jsx)("input",{value:null===fe||void 0===fe?void 0:fe.phone,onChange:He,name:"phone",type:"text",className:"numberonly form-control",style:{width:"70%"},defaultValue:!0,placeholder:"masukan nomor telepon anda"})]})]})}),(0,E.jsx)("div",{className:"col-md-6",children:(0,E.jsxs)("div",{className:"form-group",children:[(0,E.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Email"}),(0,E.jsx)("input",{name:"email",value:null===fe||void 0===fe?void 0:fe.email,onChange:He,type:"text",className:"textonly form-control form-control",defaultValue:!0,placeholder:"masukan email anda"})]})})]}),(0,E.jsxs)("div",{className:"custom-control custom-checkbox",children:[(0,E.jsx)("input",{type:"checkbox",checked:ke,className:"custom-control-input sebagai-tamu",id:"customCheck1",onClick:function(){we(!ke)}}),(0,E.jsx)("label",{className:"custom-control-label",htmlFor:"customCheck1",children:"Memesan untuk orang lain"})]})]})]}),ke&&(0,E.jsx)("div",{className:"guest-container mb-2",children:(0,E.jsxs)("ul",{className:"list-group shadow mb-2",style:{borderRadius:"20px"},children:[(0,E.jsx)("li",{className:"list-group-item text-white font-weight-bold",style:{background:"#0070BA"},children:"Guest Kamar"}),(0,E.jsx)("li",{className:"list-group-item",children:(0,E.jsxs)("div",{className:"form-row",children:[(0,E.jsx)("div",{className:"col-2",children:(0,E.jsxs)("div",{className:"form-group",children:[(0,E.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Title"}),(0,E.jsxs)("select",{onChange:De,className:"form-control all_title title_",value:Se.title,name:"title",children:[(0,E.jsx)("option",{value:"Mr",children:"Mr."}),(0,E.jsx)("option",{value:"Mrs",children:"Mrs."})]})]})}),(0,E.jsx)("div",{className:"col-5",children:(0,E.jsxs)("div",{className:"form-group",children:[(0,E.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Nama Depan"}),(0,E.jsx)("input",{type:"text",className:"textonly form-control all_firstname firstname_",value:Se.firstName,name:"firstName",onChange:De,autoComplete:"off"})]})}),(0,E.jsx)("div",{className:"col-5",children:(0,E.jsxs)("div",{className:"form-group",children:[(0,E.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Nama Belakang"}),(0,E.jsx)("input",{type:"text",value:Se.lastName,onChange:De,className:"textonly form-control all_lastname lastname_",name:"lastName"})]})})]})})]})}),(0,E.jsxs)("ul",{className:"list-group shadow-sm",style:{borderRadius:"20px"},children:[(0,E.jsxs)("li",{className:"list-group-item text-white",style:{background:"#0070BA"},children:[(0,E.jsxs)("span",{children:[(0,E.jsx)("b",{children:"Permintaan Khusus (opsional)"}),(0,E.jsx)("button",{type:"button",onClick:function(){return Ze((function(e){return!e}))},className:"btn btn-sm text-white float-right",children:(0,E.jsx)(h.JO,{icon:f.Z})})," "]}),(0,E.jsx)(v.Z,{isOpen:Ee,children:(0,E.jsx)("small",{children:"permintaan khusus atau fasilitas penyandang cacat (misalnya tempat tidur lipat, check-in terlambat, dan kamar penyandang cacat tidak dijamin. Jika Anda tidak menerima informasi apa pun dari properti, Anda mungkin harus menghubungi mereka secara langsung untuk mengonfirmasi. Properti mungkin mengenakan biaya untuk permintaan khusus tertentu."})})]}),(0,E.jsx)("li",{className:"list-group-item",children:(0,E.jsx)("div",{className:"my-2",id:"special_request",children:(0,E.jsx)("textarea",{onChange:function(e){return Ie(e.target.value)},className:"form-control",rows:3})})})]})]}),(0,E.jsx)("div",{className:"col-md-4",children:(0,E.jsx)("div",{className:"sticky-top20",children:(0,E.jsxs)("div",{className:"card shadow-sm",style:{borderRadius:"20px"},children:[(0,E.jsx)("div",{className:"card-header font-weight-bold text-white",style:{borderTopLeftRadius:"20px",borderTopRightRadius:"20px",background:"#0070BA"},children:(0,E.jsx)("span",{children:"Rincian Belanja"})}),(0,E.jsxs)("div",{className:"card-body",children:["corporate"==(null===fe||void 0===fe?void 0:fe.role)?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("span",{children:[" Company ",(0,E.jsx)("br",{}),(0,E.jsx)("span",{className:"mb-0 font-weight-bold text-primary",children:null===(C=fe.company)||void 0===C?void 0:C.name})]}),(0,E.jsx)("br",{}),(0,E.jsxs)("span",{children:[" Sisa Saldo ",(0,E.jsx)("br",{}),(0,E.jsxs)("span",{className:"mb-0 font-weight-bold text-primary",children:["Rp ",fe.company.saldo.toLocaleString().replaceAll(",",".")]})]}),(0,E.jsx)("hr",{})]}):(0,E.jsx)(E.Fragment,{}),(0,E.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,E.jsx)("span",{children:(0,E.jsxs)("strong",{children:["Jumlah ",null===Ve||void 0===Ve||null===(Z=Ve.booked)||void 0===Z||null===(I=Z.traveller)||void 0===I?void 0:I.length," Kamar"]})}),(0,E.jsx)("span",{className:"harga_markup_for_midrans",style:{position:"absolute",right:"4%"},children:(0,E.jsx)("strong",{})}),(0,E.jsx)("br",{})]}),(0,E.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,E.jsx)("span",{children:(0,E.jsx)("strong",{children:"Sub Total"})}),(0,E.jsx)("span",{children:(0,E.jsxs)("strong",{className:"text_fee",children:["Rp",null===X||void 0===X?void 0:X.subtotal.toLocaleString()]})})]}),(0,E.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,E.jsx)("span",{children:(0,E.jsx)("strong",{children:"Pajak"})}),(0,E.jsx)("span",{className:"text_fee",children:(0,E.jsxs)("strong",{children:["Rp",((null===X||void 0===X?void 0:X.total)-(null===X||void 0===X?void 0:X.subtotal)).toLocaleString()]})})]}),(0,E.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,E.jsx)("span",{children:(0,E.jsx)("strong",{children:"Biaya Penanganan"})}),(0,E.jsx)("span",{children:(0,E.jsxs)("strong",{className:"text_fee",children:["Rp",null===X||void 0===X?void 0:X.fee.toLocaleString()]})})]}),(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("div",{id:"coupon_checkout",className:"d-flex justify-content-between align-items-center mb-2",children:[(0,E.jsx)("span",{children:(0,E.jsx)("strong",{children:"Kupon"})}),(0,E.jsx)("div",{children:(0,E.jsx)("button",{type:"button",onClick:Ge,className:"btn btn-sm btn-warning",children:"Gunakan Kupon "})})]}),null===X||void 0===X?void 0:X.coupon.map((function(e){return(0,E.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,E.jsx)("span",{className:"pb-2 text-danger",children:e.name}),(0,E.jsxs)("p",{className:"text-danger",children:["- Rp",e.amount.toLocaleString(),(0,E.jsx)(h.JO,{style:{cursor:"pointer"},icon:j.Z,onClick:function(){return Ue(e)}})]})]})})),(0,E.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,E.jsx)("div",{className:"text-danger font-weight-bold text-uppercase judul_point",children:"Poin"}),(0,E.jsx)("h6",{children:(0,E.jsx)("strong",{className:"total_poin",children:null===X||void 0===X||null===(A=X.user)||void 0===A?void 0:A.point.toLocaleString()})})]}),(null===X||void 0===X?void 0:X.point)>0&&(0,E.jsx)("div",{className:"d-flex justify-content-end align-items-center mb-2",children:(0,E.jsx)("h6",{children:(0,E.jsxs)("strong",{className:"text-danger",children:["-",null===X||void 0===X?void 0:X.point]})})}),(0,E.jsxs)("div",{className:"kotakambilpoint",children:[(0,E.jsx)("input",{onClick:function(){ae((function(e){return!e}))},checked:te,type:"checkbox",id:"ambilpoint"}),(0,E.jsx)("label",{className:"font-weight-bold font-italic",htmlFor:"ambilpoint",children:"Gunakan poin untuk pembayaran"})]})]}),(0,E.jsx)("hr",{}),(0,E.jsxs)("div",{className:"d-flex my-2 justify-content-between mt-2",children:[(0,E.jsx)("h5",{children:"Total"}),(0,E.jsxs)("h4",{id:"total_teks",className:"total_teks harga_terkini",children:["Rp",null===X||void 0===X?void 0:X.total.toLocaleString()]})]}),(0,E.jsxs)("p",{children:[(0,E.jsx)("div",{style:{cursor:"pointer"},onClick:function(){return Fe((function(e){return!e}))},children:(0,E.jsxs)("strong",{children:["Kebijakan pembatalan ",(0,E.jsx)(h.JO,{icon:g.Z})," "]})}),(0,E.jsx)(v.Z,{isOpen:Me,children:(0,E.jsx)("p",{className:"text-justify",children:null===Ve||void 0===Ve||null===(M=Ve.detail)||void 0===M?void 0:M.cancellationPolicy})})]})]})]})})})]})]}),(0,E.jsx)(_.Z,{total:null===X||void 0===X?void 0:X.total,isLoading:Re,onSubmit:function(){Ke(!0);var e={product:"hotel",key:q.data.key,price:P(P({},X),{},{discount:X.discount.grandTotal,insurance:0,tax:X.tax}),coupon:$,paymentMethod:xe,contact:P(P({},fe),{},{firstName:fe.first,lastName:fe.last}),guest:[Se],specialRequest:Te};m.Z.submitCheckout(he,e).then((function(e){e.success?G.push("/user/purchase/detail/".concat(e.data.key)):k.Am.error("Pesanan gagal dibuat, pastikan data lengkap"),Ke(!1)}))}}),(0,E.jsxs)(b.Z,{isOpen:ie,toggle:Ge,centered:!0,size:"lg",children:[(0,E.jsx)(N.Z,{toggle:Ge,children:(0,E.jsxs)("h5",{children:["Pilih kupon ",(0,E.jsx)(h.JO,{icon:f.Z})]})}),(0,E.jsxs)(y.Z,{children:[(0,E.jsxs)("div",{className:"input-group mb-3",children:[(0,E.jsx)("input",{type:"text",value:re,onChange:function(e){return ce(e.target.value)},className:"form-control",placeholder:"Enter Code . . . "}),(0,E.jsx)("div",{className:"input-group-append",children:(0,E.jsx)("button",{onClick:function(){return Je(re)},className:"btn btn-outline-primary",type:"button",children:(0,E.jsx)(h.JO,{icon:p.Z})})})]}),(0,E.jsxs)("div",{className:"container",children:[null===X||void 0===X?void 0:X.coupon.map((function(e){return(0,E.jsxs)("div",{className:"row border rounded",children:[(0,E.jsx)("div",{className:"col-3 d-flex bg-danger align-items-center justify-content-center",children:(0,E.jsxs)("h6",{className:"text-white",children:["Potongan",(0,E.jsxs)("h4",{children:[(0,E.jsx)("small",{children:"Rp"})," ",(0,E.jsxs)("strong",{children:[e.amount.toLocaleString()," "]})]})]})}),(0,E.jsx)("div",{className:"col-9 d-flex justify-content-between p-3",children:(0,E.jsxs)("div",{children:[(0,E.jsx)("strong",{children:e.name.toUpperCase()})," ",(0,E.jsx)("br",{}),e.minimum_transaction>0&&(0,E.jsxs)("p",{children:["Min.Belanja Rp",e.minimum_transaction.toLocaleString()]}),e.isPrivate?(0,E.jsxs)("div",{className:"input-group mb-3",children:[(0,E.jsx)("div",{className:"input-group-append",children:(0,E.jsx)("button",{onClick:function(){return Je(re)},type:"button",className:"btn btn-info",title:"Kirim ulang OTP",children:(0,E.jsx)(h.JO,{icon:"mdi:refresh"})})}),(0,E.jsx)("input",{type:"text",onChange:function(e){return me(e.target.value)},className:"form-control",placeholder:"Masukan Kode OTP . . . "}),(0,E.jsxs)("div",{className:"input-group-append",children:[(0,E.jsx)("button",{onClick:function(){return e=re,n=ue,void m.Z.aktifCoupon(he,e,n).then((function(e){if(e.statusAktif){var n,t={product:"hotel",key:null===(n=D.hotel)||void 0===n?void 0:n.key,insurance:!1,point:te,coupon:$,paymentMethod:xe,platform:"web",ssr:[]};D.hotel&&m.Z.getCountPrice(he,t).then((function(e){e.success?(W(e.data),Ge(),console.log("coupon = "+JSON.stringify(e.data)+"----"+re)):(ee($.filter((function(n){return n!==e.note}))),e.message.includes("coupon")&&(ee((0,s.Z)($).filter((function(n){return n!==e.note}))),k.Am.error("Kupon sudah digunakan",{position:"top-right",toastId:"coupon"})))}))}else k.Am.error("Kupon sudah digunakan",{position:"top-right",toastId:"coupon"})}));var e,n},type:"button",className:"btn btn-primary",title:"Klik untuk Aktifkan Kupon",children:"Aktifkan"}),(0,E.jsx)("button",{onClick:function(){return Ue(e)},type:"button",className:"ml-1 btn btn-danger",title:"Hapus Kupon",children:(0,E.jsx)(h.JO,{icon:x.Z})})]})]}):(0,E.jsx)("div",{className:"input-group mb-3",children:(0,E.jsxs)("div",{className:"input-group-append",children:[(0,E.jsx)("button",{onClick:function(){return Be(e.id.toString())},type:"button",className:"btn btn-primary",title:"Gunakan Kupon",children:"Gunakan"}),(0,E.jsx)("button",{onClick:function(){return Ue(e)},type:"button",className:"ml-1 btn btn-danger",title:"Hapus Kupon",children:(0,E.jsx)(h.JO,{icon:x.Z})})]})})]})})]})})),null===X||void 0===X?void 0:X.user.coupon.map((function(e){return(0,E.jsxs)("div",{className:"row border rounded",children:[(0,E.jsx)("div",{className:"col-3 rounded d-flex bg-warning align-items-center justify-content-center",children:(0,E.jsx)("h6",{children:e.name})}),(0,E.jsxs)("div",{className:"col-9 d-flex justify-content-between p-3",children:[(0,E.jsxs)("div",{children:[(0,E.jsxs)("h6",{children:["Potongan ",e.amount.toLocaleString()]}),e.minimum_transaction>0&&(0,E.jsxs)("p",{children:["Min.Blnj Rp",e.minimum_transaction.toLocaleString()]}),(0,E.jsx)("button",{onClick:function(){return Be(e.id.toString())},type:"button",className:"btn btn-primary",children:"Gunakan"})]}),(0,E.jsxs)("div",{children:[(0,E.jsxs)("small",{children:["Hingga: ",e.expired]}),(0,E.jsx)("p",{children:e.term})]})]})]})}))]})]})]})]})},M=t(64624),F=t(30454),D=t(3467),H=t(1852);function J(){var e=(0,H.useMediaQuery)({query:"(max-width:1224px)"})?M.Z:A;return(0,E.jsx)(e,{})}J.Layout={desktop:F.Z,mobile:a.Fragment};var B=(0,D.Z)(J,{auth:!0,pathAfterFailure:"/login"})},95692:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/product/hotel/checkout",function(){return t(18924)}])}},function(e){e.O(0,[6319,1954,186,7381,542,5496,4317,1844,9512,768,454,6385,4651,9774,2888,179],(function(){return n=95692,e(e.s=n);var n}));var n=e.O();_N_E=n}]);