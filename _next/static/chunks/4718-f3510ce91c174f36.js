"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4718],{44718:function(e,t,n){n.d(t,{Z:function(){return Y}});var s=n(59499),o=n(67294),r=n(1954),i=n(17563),a=n(16819),l=n(21897),c=n(25617),d=n(86733),u=n(30071),m=n(30381),p=n.n(m),f=n(27906),h=n(94184),g=n.n(h),b=n(86704),x=n(91592),y=n(42365),j=(n(28951),n(85893));var w=function(e){var t=e.passanger,n=e.addPassanger,s=e.reducedPassanger,i=(0,o.useState)(!1),a=i[0],l=i[1];return(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)(b.Z,{isOpen:a,toggle:function(){l((function(e){return!e}))},children:[(0,j.jsxs)(x.Z,{tag:"div","data-toggle":"dropdown",className:"input-group",children:[(0,j.jsx)("div",{className:"input-group-append",children:(0,j.jsx)("span",{className:"input-group-text text-danger",children:(0,j.jsx)(r.JO,{icon:"heroicons:user-group"})})}),(0,j.jsx)("input",{type:"text",readOnly:!0,value:"".concat(function(){var e=0;return Object.keys(t).forEach((function(n){e+=Number(t[n])})),e}()," Penumpang"),className:"form-control"})]}),(0,j.jsxs)(y.Z,{right:!0,className:"px-3",children:[(0,j.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("span",{children:(0,j.jsx)("b",{children:"Dewasa"})}),(0,j.jsx)("br",{}),(0,j.jsx)("small",{className:"text-muted",children:"\u2265 3 Tahun"})]}),(0,j.jsxs)("div",{className:"input-group w-50 mb-2 cariqty",children:[(0,j.jsx)("div",{className:"input-group-prepend",children:(0,j.jsx)("button",{onClick:function(){return s("adult")},className:"btn btn-outline-secondary form-control flight_minus",type:"button",children:"-"})}),(0,j.jsx)("input",{type:"text",className:"form-control text-center numberonly hitung flight_dropdewasa",value:t.adult,readOnly:!0}),(0,j.jsx)("div",{className:"input-group-append",children:(0,j.jsx)("button",{onClick:function(){return n("adult")},className:"btn btn-outline-secondary form-control flight_plus",type:"button",children:"+"})})]})]}),(0,j.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("span",{children:(0,j.jsx)("b",{children:"Bayi"})}),(0,j.jsx)("br",{}),(0,j.jsxs)("small",{className:"text-muted",children:[" ","< 3"," Tahun"]})]}),(0,j.jsxs)("div",{className:"input-group w-50 mb-2 cariqty",children:[(0,j.jsx)("div",{className:"input-group-prepend",children:(0,j.jsx)("button",{onClick:function(){return s("infant")},className:"btn btn-outline-secondary form-control flight_minus0",type:"button",children:"-"})}),(0,j.jsx)("input",{value:t.infant,type:"text",className:"form-control text-center numberonly hitung flight_dropbayi",readOnly:!0}),(0,j.jsx)("div",{className:"input-group-append",children:(0,j.jsx)("button",{onClick:function(){return n("infant")},className:"btn btn-outline-secondary form-control flight_plus",type:"button",children:"+"})})]})]})]})]})})},v=n(11163),N=(n(77837),n(25675)),k=n(186),D=(n(96486),n(76457)),O=(n(86455),n(72132));function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P={border:"none",height:"auto",width:"100%",boxShadow:"none",paddingLeft:0,marginTop:"-5px",background:"transparent"},T=k.default.li.withConfig({displayName:"WidgetTrain__ListItemStyled",componentId:"sc-1adw3im-0"})(["height:83px !important;padding-bottom:0 !important;"]),Y=function(e){var t,n,m=e.options,h=e.handleChangeOptions,b=(0,c.v9)((function(e){return e.token})).access_token,x=(0,v.useRouter)(),y=(0,o.useRef)(_.debounce((function(e,t,n){f.Z.getAutocompleteTrain(e,{product:"train",q:t}).then((function(e){n("options",e.data),n("isLoading",!1)}))}),2e3)).current,k=(0,o.useRef)(_.debounce((function(e,t,n){f.Z.getAutocompleteTrain(e,{product:"train",q:t}).then((function(e){n("options",e.data),n("isLoading",!1)}))}),2e3)).current,S=(0,o.useState)({options:[],isLoading:!1,keyword:null!==(t=null===m||void 0===m?void 0:m.from)&&void 0!==t?t:"",selected:[]}),Y=S[0],Z=S[1],M=(0,o.useState)({options:[],isLoading:!1,keyword:null!==(n=null===m||void 0===m?void 0:m.to)&&void 0!==n?n:"",selected:[]}),F=M[0],I=M[1],L=(0,o.useState)({from:null!==m&&void 0!==m&&m.dateFrom?ne(m.dateFrom):p()(new Date).add(1,"days").toDate(),to:null!==m&&void 0!==m&&m.dateTo?ne(m.dateTo):null!==m&&void 0!==m&&m.dateFrom?p()(ne(m.dateFrom)).add(1,"days").toDate():p()(new Date).add(2,"days").toDate()}),A=L[0],E=L[1],R=(0,o.useState)({adult:null!==m&&void 0!==m&&m.adult?m.adult:1,child:null!==m&&void 0!==m&&m.child?m.child:0,infant:null!==m&&void 0!==m&&m.infant?m.infant:0}),q=R[0],B=R[1],z=(0,o.useState)(null!==m&&void 0!==m&&m.classCabin?m.classCabin:""),K=(z[0],z[1],(0,o.useState)(!1)),W=K[0],J=K[1],U=(0,o.useRef)(),G=(0,o.useState)(!(null===m||void 0===m||!m.dateTo)),H=G[0],Q=G[1],V=(0,o.useState)(!(null===m||void 0===m||!m.direct)&&!m.direct),X=(V[0],V[1],function(e,t){Z((function(n){return C(C({},n),{},(0,s.Z)({},e,t))}))}),$=function(e,t){I((function(n){return C(C({},n),{},(0,s.Z)({},e,t))}))};(0,o.useEffect)((function(){null!==m&&void 0!==m&&m.from&&f.Z.getAutocompleteTrain(b,{product:"train",q:null===m||void 0===m?void 0:m.from}).then((function(e){e.success&&X("selected",e.data.filter((function(e){return e.station_code===m.from})))}))}),[null===m||void 0===m?void 0:m.from]),(0,o.useEffect)((function(){null!==m&&void 0!==m&&m.to&&f.Z.getAutocompleteTrain(b,{product:"train",q:null===m||void 0===m?void 0:m.to}).then((function(e){e.success&&$("selected",e.data.filter((function(e){return e.station_code===m.to})))}))}),[null===m||void 0===m?void 0:m.to]),(0,o.useEffect)((function(){X("isLoading",!0),(Y.keyword.length>2||Y.keyword.length<1)&&y(b,Y.keyword,X)}),[Y.keyword,y]),(0,o.useEffect)((function(){$("isLoading",!0),(F.keyword.length>2||F.keyword.length<1)&&k(b,F.keyword,$)}),[F.keyword,k]);var ee=H?{start:A.from,end:A.to}:{start:A.from},te=function(){Q((function(e){return!e}))};function ne(e){var t=e.split("-");return new Date(t[2],t[1]-1,t[0])}return(0,j.jsxs)("div",{style:{padding:"13px",color:"white",background:"linear-gradient(90deg, rgba(135,15,0,1) 0%, rgba(185,45,28,1) 50%, rgba(255,26,0,1) 100%)",borderRadius:"20px"},children:[(0,j.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-3",children:[(0,j.jsxs)("div",{className:"d-flex",children:[(0,j.jsxs)("div",{className:"custom-control custom-radio mx-2",children:[(0,j.jsx)("input",{type:"radio",onChange:te,className:"custom-control-input form-widget form-isreturn",id:"oneway",checked:!H}),(0,j.jsx)("label",{className:"custom-control-label font-weight-bold",htmlFor:"oneway",children:"One Way"})]}),(0,j.jsxs)("div",{className:"custom-control custom-radio mx-2",children:[(0,j.jsx)("input",{checked:H,onChange:te,type:"radio",className:"custom-control-input form-widget ",id:"pulangterbang"}),(0,j.jsx)("label",{className:"custom-control-label font-weight-bold",htmlFor:"pulangterbang",children:"Round Trip"})]})]}),(0,j.jsx)("div",{className:"d-flex",children:(0,j.jsx)("div",{className:"mx-2",children:(0,j.jsx)(w,{passanger:q,addPassanger:function(e){B((function(t){return C(C({},t),{},(0,s.Z)({},e,Number(t[e])+1))}))},reducedPassanger:function(e){("adult"===e&&q[e]>1||"adult"!==e&&q[e]>0)&&B((function(t){return C(C({},t),{},(0,s.Z)({},e,Number(t[e])-1))}))}})})})]}),(0,j.jsxs)("ul",{className:"list-group list-group-horizontal text-dark list-menu",children:[(0,j.jsx)(T,{className:g()("list-group-item pb-0",{"w-25":H,"w-35":!H}),children:(0,j.jsxs)("div",{className:"form-group mb-2",children:[(0,j.jsx)("label",{className:"mb-0 font-weight-bold",children:"Dari Stasiun"}),(0,j.jsx)(l.pY,{id:"from",inputProps:{style:P,placeholder:"Stasiun Asal"},selected:Y.selected,onChange:function(e){return X("selected",e)},filterBy:function(){return!0},labelKey:"station_name",onSearch:function(){},onInputChange:function(e){return X("keyword",e)},options:Y.options,renderMenuItemChildren:function(e){return Y.isLoading?(0,j.jsx)("span",{className:"d-flex justify-content-between align-items-center py-2 px-1",children:(0,j.jsx)(D.Z,{type:"text",rows:1})}):(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("span",{className:"d-flex justify-content-between align-items-center",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("strong",{style:{textOverflow:"ellipsis",width:"220px",fontSize:"16px",display:"inline-block",whiteSpace:"break-spaces"},children:e.station_name}),(0,j.jsx)("br",{}),(0,j.jsxs)("small",{style:{width:"100%",display:"inline-block",whiteSpace:"break-spaces"},children:[e.city,", Indonesia"]})]}),(0,j.jsx)("span",{className:"badge bg-danger text-uppercase text-white ml-1",children:e.station_code})]})})}})]})}),(0,j.jsxs)(T,{className:g()("list-group-item pb-0",{"w-25":H,"w-35":!H}),children:[(0,j.jsx)("div",{className:"exchange-flight p-1 bg-white",children:(0,j.jsx)("button",{onClick:function(){$("selected",Y.selected),$("keyword",Y.keyword),X("keyword",F.keyword),X("selected",F.selected),J((function(e){return!e}))},type:"button",className:g()("btn rounded-circle btn-danger btn-exchange-flight p-0",{rotate:W}),children:(0,j.jsx)(r.JO,{icon:a.Z,style:{verticalAlign:"middle",marginTop:"-4.7px"}})})}),(0,j.jsxs)("div",{className:"form-group mb-2 ml-2",children:[(0,j.jsx)("label",{className:"mb-0 font-weight-bold",children:"Ke Stasiun"}),(0,j.jsx)(l.pY,{id:"to",inputProps:{placeholder:"Stasiun Tujuan",style:P},selected:F.selected,onChange:function(e){return $("selected",e)},filterBy:function(){return!0},labelKey:"station_name",onSearch:function(){},onInputChange:function(e){return $("keyword",e)},options:F.options,renderMenuItemChildren:function(e){return F.isLoading?(0,j.jsx)("span",{className:"d-flex justify-content-between align-items-center py-2 px-1",children:(0,j.jsx)(D.Z,{type:"text",rows:1})}):(0,j.jsx)(j.Fragment,{children:(0,j.jsxs)("span",{className:"d-flex justify-content-between align-items-center",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("strong",{style:{textOverflow:"ellipsis",width:"220px",fontSize:"16px",display:"inline-block",whiteSpace:"break-spaces"},children:e.station_name}),(0,j.jsx)("br",{}),(0,j.jsxs)("small",{style:{width:"100%",display:"inline-block",whiteSpace:"break-spaces"},children:[e.city,", Indonesia"]})]}),(0,j.jsx)("span",{className:"badge bg-danger text-uppercase text-white ml-1",children:e.station_code})]})})}})]})]}),(0,j.jsx)(T,{className:"list-group-item pb-0",style:{width:"20%"},children:(0,j.jsxs)("div",{className:g()("form-group mb-2 InputFromTo",{range:H}),children:[(0,j.jsx)("label",{className:"mb-0 d-block font-weight-bold",children:"Berangkat"}),(0,j.jsx)(d.default,{value:A.from,formatDate:u.formatDate,format:"ddd, DD MMM YYYY",parseDate:u.parseDate,dayPickerProps:{disabledDays:{before:new Date},selectedDays:[A.from,H&&{from:A.from,to:A.to}],modifiers:ee,numberOfMonths:H?2:1,locale:"id",localeUtils:u.default,onDayClick:function(){var e;return!H&&(null===(e=U.current)||void 0===e?void 0:e.getInput().focus())}},onDayChange:function(e){p()(e).isBefore(A.to)?E((function(t){return C(C({},t),{},{from:e})})):E((function(t){return C(C({},t),{},{from:e,to:p()(e).add(1,"days").toDate()})}))},inputProps:{className:"form-control w-100",readOnly:!0,style:P}})]})}),H&&(0,j.jsx)(T,{style:{width:"20%"},className:g()("list-group-item pb-0 InputFromTo range InputFromTo-to"),children:(0,j.jsxs)("div",{className:"form-group mb-2",children:[(0,j.jsx)("label",{className:"mb-0 font-weight-bold",children:"Pulang"}),(0,j.jsx)(d.default,{ref:U,format:"ddd, DD MMM YYYY",value:A.to,formatDate:u.formatDate,parseDate:u.parseDate,dayPickerProps:{selectedDays:[A.from,{from:A.from,to:A.to}],disabledDays:[{before:A.from},{before:new Date}],modifiers:ee,localeUtils:u.default,month:A.from,fromMonth:A.from,locale:"id",numberOfMonths:2},onDayChange:function(e){E((function(t){return C(C({},t),{},{to:e})}))},style:{width:"200px"},inputProps:{className:"form-control bg-transparent",readOnly:!0,style:P}})]})}),(0,j.jsx)(T,{className:"list-group-item p-0 bg-warning w-20 tombolcari",children:(0,j.jsxs)("button",{onClick:function(){var e=q;if(0===Y.selected.length&&O.Am.error("Stasiun asal belum diisi"),0===F.selected.length&&O.Am.error("Stasiun tujuan belum diisi"),e.infant>e.adult&&O.Am.error("Bayi tidak boleh melebihi jumlah dewasa"),Y.selected.length>0&&F.selected.length>0){var t=C(C({},q),{},{from:Y.selected[0].station_code,to:F.selected[0].station_code,dateFrom:p()(A.from).format("DD-MM-YYYY"),dateTo:H?p()(A.to).format("DD-MM-YYYY"):"",direct:!1===H?"OW":"RT"});h&&h(t),x.push("/product/train?".concat(i.stringify(t)))}},className:"btn btn-transparent d-flex justify-content-center align-items-center font-weight-bold h-100 btn-block",children:[(0,j.jsx)("div",{style:{width:"25px",height:"25px",position:"relative"},className:"d-inline-block",children:(0,j.jsx)(N.default,{layout:"fill",src:"https://cdn.masterdiskon.com/masterdiskon/icon/fe/luv.png"})}),"Search"]})})]})]})}}}]);