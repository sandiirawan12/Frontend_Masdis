"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9005],{29005:function(e,t,n){n.d(t,{Z:function(){return T}});var i=n(27812),s=n(59499),o=n(186),a=n(68579),l=n(1954),r=n(34936),c=n(28165),d=n(6638),u=n(11163),h=n(25675),m=n(67294),p=n(25617),f=n(27906),x=n(45046),b=n(10684),g=n(63738),j=n.n(g),v=n(76457),y=n(85893);var k=o.default.div.withConfig({displayName:"DestinationHotel__RootStyled",componentId:"sc-17oupv1-0"})(["display:",";transition:display ease 1s;background:white;min-height:100vh;.content{padding:.9rem;}.search-wrapper{position:fixed;background:white;top:40px;z-index:999;left:0;width:100%;height:70px;display:flex;justify-content:center;align-items:center;box-shadow:0 5px 5px -5px rgba(0,0,0,.5);.container{height:48px;.search-input{background:#F5F6FA;padding-right:77px;box-shadow:none;font-size:12px}.search-button{right:0;top:0;font-size:12px;border-top-left-radius:0;border-bottom-left-radius:0;}}}"],(function(e){return e.show?"block":"none"})),N=o.default.ul.withConfig({displayName:"DestinationHotel__ListStyled",componentId:"sc-17oupv1-1"})(["padding:0 !important;color:black !important;font-size:12px !important;overflow-y:auto !important;margin-top:4.5rem;.list-group-title{font-weight:bold;}.list-group-item{margin:auto 8px;border:0;border-bottom:1px solid gray;&:last-child{border-bottom:none;}margin-bottom:.6rem;padding:0;cursor:pointer;.title{display:block;font-size:12px;margin-bottom:-3px;}.subtitle{display:block;color:gray;font-size:11px;margin-bottom:3px;}}"]),w=function(e){var t=e.open,n=e.toggle,i=e.setHotelSelected,s=(e.hotelSelected,e.keyword),o=e.handleChangeKeyword,l=(0,p.v9)((function(e){return e.token})).access_token,r=(0,m.useState)([]),c=r[0],d=r[1],u=(0,m.useState)([]),g=u[0],w=u[1],C=(0,m.useState)(!1),D=(C[0],C[1]),S=(0,m.useState)(!1),O=S[0],_=S[1];(0,m.useEffect)((function(){D(!0),f.Z.getAutocomplete(l,{product:"hotel",q:""}).then((function(e){e.success&&d(e.data),D(!1)}))}),[]);var Z=function(e){i(e),n("destination")};return(0,y.jsxs)(k,{show:t,children:[(0,y.jsx)(a.Z,{title:"Tujuan Hotel",onBack:function(){return n("destination")}}),(0,y.jsxs)("div",{className:"content",children:[(0,y.jsx)("div",{className:"search-wrapper",children:(0,y.jsx)("div",{className:"container",children:(0,y.jsxs)("div",{className:"w-100 position-relative ",children:[(0,y.jsx)("div",{className:"form-group",children:(0,y.jsx)("input",{type:"text",onChange:o,autoFocus:!0,className:"form-control search-input border-0 py-4",placeholder:"Search Hotel"})}),(0,y.jsxs)("button",{type:"button",onClick:function(){_(!0),f.Z.getAutocomplete(l,{product:"hotel",q:s}).then((function(e){e.success&&w(e.data),_(!1)}))},className:"btn h-100 d-flex justify-content-center align-items-center btn-warning btn-sm position-absolute search-button",children:[(0,y.jsx)("div",{style:{width:"18px",height:"18px",position:"relative"},className:"d-inline-block",children:(0,y.jsx)(h.default,{layout:"fill",src:"https://cdn.masterdiskon.com/masterdiskon/icon/fe/luv.png"})}),"Search"]})]})})}),(0,y.jsxs)(N,{className:"list-group",children:[O?[1,2,3,4,5].map((function(){return(0,y.jsxs)("li",{className:"d-flex justify-content-between align-items-center py-2 px-1",children:[" ",(0,y.jsx)(v.Z,{type:"text",rows:1})]})})):g.length>0&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("li",{className:"list-group-title bg-warning px-1",children:"Hasil Pencarian"}),g.map((function(e){return(0,y.jsxs)("li",{className:"list-group-item",onClick:function(){return Z(e)},children:[(0,y.jsx)("span",{className:"title",children:e.name}),(0,y.jsx)("span",{className:"subtitle",children:e.level})]})}))]}),c.length>0&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("li",{className:"list-group-title",children:"Destinasi Populer"}),c.map((function(e){return(0,y.jsxs)("li",{className:"list-group-item",onClick:function(){return Z(e)},children:[(0,y.jsx)("span",{className:"title",children:e.name}),(0,y.jsx)("span",{className:"subtitle",children:"Indonesia"})]})}))]})]})]}),(0,y.jsx)(x.Z,{size:"lg",isOpen:!1,children:(0,y.jsx)(b.Z,{children:(0,y.jsx)(j(),{})})})]})},C=n(94184),D=n.n(C),S=n(70657),O=n(45697),_=n.n(O),Z=n(30381),A=n.n(Z);function M(e){var t=e.isOpen,n=e.onClose,i=e.handleChange,s=e.date,o=e.dateActive,a=e.handleChangeDateActive,l={start:s.checkin,end:s.checkout},r="checkin"===o?{before:new Date}:[{before:s.checkin},{before:new Date}];return(0,y.jsxs)(Y,{open:t,height:.1,onClose:n,children:[(0,y.jsxs)(S.SheetHeader,{className:"bg-primary text-white d-block pt-3 pb-3 px-2",children:[(0,y.jsxs)("div",{className:"d-flex justify-content-between align-items-center mx-2",children:[(0,y.jsx)("h5",{className:"font-weight-bold w-100",children:"Tanggal Menginap"}),(0,y.jsx)("h5",{onClick:n,children:(0,y.jsx)("i",{class:"fas fa-times"})})]}),(0,y.jsxs)("div",{className:"w-100 mt-3 d-flex justify-content-center align-items-start",children:[(0,y.jsxs)("div",{className:D()("text-date",{"date-active":"checkin"===o}),children:[(0,y.jsx)("small",{className:"mb-0 d-block",children:"Check-in"}),(0,y.jsxs)("div",{className:"d-flex align-items-center date-active",onClick:function(){return a("checkin")},children:[(0,y.jsx)("h4",{style:{fontSize:"40px"},className:"font-weight-bold m-0",children:A()(s.checkin).format("DD")}),(0,y.jsxs)("div",{className:"ml-2",children:[(0,y.jsx)("h6",{className:"m-0 font-weight-bold",children:A()(s.checkin).format("ddd")}),(0,y.jsx)("h6",{className:"m-0 font-weight-bold",children:A()(s.checkin).format("MMM")})]})]})]}),(0,y.jsx)("div",{className:"mx-4",children:(0,y.jsxs)("small",{className:"text-light d-block my-0",children:[A()(s.checkout).diff(A()(s.checkin),"days")," malam"]})}),(0,y.jsxs)("div",{className:D()("text-date",{"date-active":"checkout"===o}),children:[(0,y.jsx)("small",{className:"mb-0 d-block",children:"Check-out"}),(0,y.jsxs)("div",{className:"d-flex align-items-center",onClick:function(){return a("checkout")},children:[(0,y.jsx)("h4",{style:{fontSize:"40px"},className:"font-weight-bold m-0",children:A()(s.checkout).format("DD")}),(0,y.jsxs)("div",{className:"ml-2",children:[(0,y.jsx)("h6",{className:"m-0 font-weight-bold",children:A()(s.checkout).format("ddd")}),(0,y.jsx)("h6",{className:"m-0 font-weight-bold",children:A()(s.checkout).format("MMM")})]})]})]})]})]}),(0,y.jsx)(S.SheetContent,{children:(0,y.jsx)(j(),{showOutsideDays:!0,month:s[o],modifiers:l,disabledDays:r,onDayClick:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.disabled||(i(o,e),"checkin"===o?a("checkout"):n())},selectedDays:[s.checkin,{from:s.checkin,to:s.checkout}],className:"w-100 Selectable"})})]})}var Y=(0,o.default)(S.BottomSheet).withConfig({displayName:"DrawerDate__DrawerBottom",componentId:"sc-16aitw2-0"})(["border-radius:0;min-height:100%;max-height:100%;.text-date{position:relative;&.date-active::before{content:'';position:absolute;bottom:-10px;left:50%;width:13px;height:13px;background:#E0A800;border-radius:50%;}}"]);M.PropTypes={isOpen:_().bool,onClose:_().func,handleChange:_().func,title:_().string};var H=M,F=n(17563);var z=(0,o.default)(S.BottomSheet).withConfig({displayName:"DrawerVisitorHotel__RootStyled",componentId:"sc-1bs4atc-0"})(["border-radius:0;padding:10px;"]),P=function(e){var t,n=e.isOpen,i=e.visitor,s=e.room,o=e.childAge,a=e.handleAddVisitor,l=e.handleChangeAge,r=(e.willSearch,e.handleChangeRoom),c=e.handleReduceVisitor,d=e.onClose,u=(0,m.useState)(null!==(t=function(){if(o){if("string"===typeof o)return[o];if("object"===typeof o)return o}}())&&void 0!==t?t:[]),h=u[0],p=u[1];return(0,m.useEffect)((function(){for(var e=[],t=0;t<i.child;t++)e[t]=t;p(e)}),[i.child]),(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(z,{height:1,open:n,onClose:d,children:[(0,y.jsxs)(S.SheetHeader,{className:"d-flex justify-content-between mb-3 align-items-center",children:[(0,y.jsx)("h5",{className:"font-weight-bold w-100",children:"Kamar & Tamu"}),(0,y.jsx)("h5",{onClick:d,children:(0,y.jsx)("i",{class:"fas fa-times"})})]}),(0,y.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,y.jsx)("div",{children:(0,y.jsx)("span",{children:(0,y.jsx)("b",{children:"Dewasa"})})}),(0,y.jsxs)("div",{className:"input-group w-50 mb-2 cariqty",children:[(0,y.jsx)("div",{className:"input-group-prepend",children:(0,y.jsx)("button",{style:{cursor:1===i.adult&&"no-drop"},disabled:1===i.adult,onClick:function(){return c("adult")},className:"btn btn-outline-secondary form-control flight_minus",type:"button",children:"-"})}),(0,y.jsx)("input",{type:"text",value:i.adult,className:"form-control text-center",readOnly:!0}),(0,y.jsx)("div",{className:"input-group-append",children:(0,y.jsx)("button",{onClick:function(){return a("adult")},className:"btn btn-outline-secondary",style:{cursor:32===i.adult&&"no-drop"},disabled:32===i.adult,type:"button",children:"+"})})]})]}),(0,y.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("span",{children:(0,y.jsx)("b",{children:"Anak"})}),(0,y.jsx)("br",{}),(0,y.jsx)("small",{children:"(dibawah 12 tahun)"})]}),(0,y.jsxs)("div",{className:"input-group w-50 mb-2 cariqty",children:[(0,y.jsx)("div",{className:"input-group-prepend",children:(0,y.jsx)("button",{style:{cursor:0===i.child&&"no-drop"},disabled:0===i.child,onClick:function(){return c("child")},className:"btn btn-outline-secondary form-control flight_minus0",type:"button",children:"-"})}),(0,y.jsx)("input",{type:"text",value:i.child,className:"form-control text-center numberonly hitung flight_dropanak",name:"anak",readOnly:!0}),(0,y.jsx)("div",{className:"input-group-append",children:(0,y.jsx)("button",{style:{cursor:10===i.child&&"no-drop"},disabled:10===i.child,onClick:function(){return a("child")},className:"btn btn-outline-secondary form-control flight_plus",type:"button",children:"+"})})]})]}),(0,y.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,y.jsxs)("div",{children:[(0,y.jsx)("span",{children:(0,y.jsx)("b",{children:"Kamar"})}),(0,y.jsx)("br",{})]}),(0,y.jsxs)("div",{className:"input-group w-50 mb-2 cariqty",children:[(0,y.jsx)("div",{className:"input-group-prepend",children:(0,y.jsx)("button",{style:{cursor:1===s&&"no-drop"},disabled:1===s,onClick:function(){return r("reduce")},className:"btn btn-outline-secondary form-control flight_minus0",type:"button",children:"-"})}),(0,y.jsx)("input",{type:"text",value:s,className:"form-control text-center",readOnly:!0}),(0,y.jsx)("div",{className:"input-group-append",children:(0,y.jsx)("button",{style:{cursor:8===s&&"no-drop"},disabled:8===s,onClick:function(){return r("add")},className:"btn btn-outline-secondary form-control flight_plus",type:"button",children:"+"})})]})]}),h.length>0&&(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)("hr",{}),(0,y.jsxs)("div",{className:"row",children:[(0,y.jsx)("div",{className:"col-md-12",children:(0,y.jsx)("label",{className:"text-secondary",children:"Tambahkan umur anak"})}),h.map((function(e,t){return(0,y.jsx)("div",{className:"col-6",children:(0,y.jsxs)("div",{className:"form-group",children:[(0,y.jsxs)("label",{for:"",children:["Anak ",++e]}),(0,y.jsx)("select",{value:o[t],onChange:function(e){return l(t,e.target.value)},className:"form-control",name:"",id:"",children:[1,2,3,4,5,6,7,8,9,10,11].map((function(e){return(0,y.jsx)("option",{children:e})}))})]})})}))]})]})]})})};function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){(0,s.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var I=o.default.div.withConfig({displayName:"HotelPage__RootStyled",componentId:"sc-1h0d5gz-0"})(["min-height:100vh;background:linear-gradient(0deg,rgba(255,255,255,1) 0%,rgba(253,191,73,1) 40%);;background-position:center bottom;background-repeat:no-repeat;background-size:200%;width:100%;color:white;position:relative;label{&.title{font-size:14px;font-weight:bold;display:block;margin-bottom:-6px;}}.md-result{font-size:12px;}"]),T=function(e){var t,n,o,h,x=e.options,b=e.handleChangeOptions,g=e.productId,j=e.onBack,v=e.resetFilter,k=e.isDetail,N=(0,u.useRouter)(),C=(0,m.useState)({destination:!1,primary:!0}),S=C[0],O=C[1],_=(0,m.useState)(null!==x&&void 0!==x&&x.keyword?null===x||void 0===x?void 0:x.keyword:""),Z=_[0],M=_[1],Y=(0,m.useState)({date:!1,visitor:!1}),z=Y[0],B=Y[1],T=(0,m.useState)({checkin:null!==x&&void 0!==x&&x.dateFrom?le(null===x||void 0===x?void 0:x.dateFrom):A()().add(1,"days").toDate(),checkout:null!==x&&void 0!==x&&x.dateTo?le(null===x||void 0===x?void 0:x.dateTo):A()().add(2,"days").toDate()}),q=T[0],R=T[1],K=(0,m.useState)("checkin"),V=K[0],J=K[1],L=(0,m.useState)(null!==(t=null===x||void 0===x?void 0:x.room)&&void 0!==t?t:1),G=L[0],Q=L[1],U=(0,m.useState)({adult:null!==(n=null===x||void 0===x?void 0:x.adult)&&void 0!==n?n:1,child:null!==(o=null===x||void 0===x?void 0:x.child)&&void 0!==o?o:0}),W=U[0],X=U[1],$=(0,m.useState)(null!==(h=null===x||void 0===x?void 0:x.childAge)&&void 0!==h?h:[]),ee=$[0],te=$[1],ne=(0,m.useState)(),ie=ne[0],se=ne[1],oe=(0,p.v9)((function(e){return e.token})).access_token;(0,m.useEffect)((function(){(null!==x&&void 0!==x&&x.from||g)&&f.Z.getAutocomplete(oe,{product:"hotel",q:null===x||void 0===x?void 0:x.keyword}).then((function(e){if(e.success){var t=[];t=g?e.data.filter((function(e){return e.productId==g})):e.data.filter((function(e){return e.id==(null===x||void 0===x?void 0:x.from)})),se(t[0])}}))}),[null===x||void 0===x?void 0:x.from,null===x||void 0===x?void 0:x.keyword,g]);var ae=function(e){J(e)};function le(e){var t=e.split("-");return new Date(t[2],t[1]-1,t[0])}var re=function(e){var t=E({},S);"primary"===e?(Object.keys(t).filter((function(t){return t!==e})).forEach((function(e){t[e]=!1})),x||N.replace({pathname:"/hotels",query:null})):!1===!t[e]?(t.primary=!0,x||N.replace({pathname:"/hotels",query:null}),Object.keys(t).filter((function(e){return"primary"!==e})).forEach((function(e){t[e]=!1}))):(Object.keys(t).filter((function(t){return t!==e})).forEach((function(e){t[e]=!1})),t[e]=!t[e]),O(t)};(0,m.useEffect)((function(){var e;N.isReady&&(null!==N&&void 0!==N&&null!==(e=N.query)&&void 0!==e&&e.search&&re("destination"))}),[N.query]);var ce=function(e,t){t&&ae(t),B((function(t){return E(E({},t),{},(0,s.Z)({},e,!t[e]))}))},de=function(e,t){var n=(0,i.Z)(ee);n[e]=t,te(n)};return(0,y.jsxs)(y.Fragment,{children:[(0,y.jsxs)(I,{className:D()("position-relative",{"d-none":!S.primary}),children:[(0,y.jsx)(a.Z,{style:{background:"rgb(253,191,73)",color:"black"},title:"Hotel",onBack:function(){return j?j():N.back()}}),(0,y.jsx)("img",{src:"https://cdn.masterdiskon.com/masterdiskon/icon/fe/sign-in.png",style:{position:"absolute",bottom:0,left:0,minHeight:"30vh",width:"100%",objectFit:"cover"}}),(0,y.jsx)("div",{className:"container pt-3",children:(0,y.jsx)("div",{className:"card text-dark",children:(0,y.jsxs)("div",{className:"p-3",children:[(0,y.jsx)("h6",{className:"font-weight-bold",children:"Pencarian Hotel"}),(0,y.jsxs)("div",{className:"container",children:[(0,y.jsxs)("div",{onClick:function(){return re("destination")},className:"d-flex align-items-center",style:{borderBottom:"1px solid gray",paddingBottom:"5px"},children:[(0,y.jsx)(l.JO,{icon:r.Z,className:"mr-2 text-primary"}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"title font-weight-bold",children:"Tujuan"}),(0,y.jsx)("small",{className:"md-result",children:ie?ie.fullname:"Cari tujuan"})]})]}),(0,y.jsxs)("div",{className:"d-flex mt-3",style:{borderBottom:"1px solid gray",paddingBottom:"5px"},children:[(0,y.jsxs)("div",{onClick:function(){return ce("date","checkin")},className:"w-100 d-flex align-items-center",children:[(0,y.jsx)(l.JO,{icon:d.Z,className:"mr-2 text-primary"}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"title",children:"Check In"}),(0,y.jsx)("small",{className:"md-result",children:A()(q.checkin).format("ddd, DD MMM YYYY")})]})]}),(0,y.jsxs)("div",{onClick:function(){return ce("date","checkout")},className:"w-100 d-flex align-items-center",children:[(0,y.jsx)(l.JO,{icon:d.Z,className:"mr-2 text-primary"}),(0,y.jsxs)("div",{children:[(0,y.jsx)("label",{className:"title",children:"Check Out"}),(0,y.jsx)("small",{className:"md-result",children:A()(q.checkout).format("ddd, DD MMM YYYY")})]})]})]}),(0,y.jsxs)("div",{className:"d-flex align-items-center mt-3",style:{borderBottom:"1px solid gray",paddingBottom:"5px"},children:[(0,y.jsx)(l.JO,{icon:c.Z,className:"mr-2 text-primary"}),(0,y.jsxs)("div",{onClick:function(){return ce("visitor")},className:"w-100",children:[(0,y.jsx)("label",{className:"title font-weight-bold",children:"Tamu Hotel"}),(0,y.jsx)("small",{className:"md-result",children:"".concat(Number(W.child||0)+Number(W.adult||0)," Tamu, ").concat(G," Kamar")})]})]})]}),(0,y.jsx)("button",{type:"button",onClick:function(){if(ie&&0!==ie.length){var e="/product/hotel",t=E(E({},W),{},{from:null===ie||void 0===ie?void 0:ie.id,dateFrom:A()(q.checkin).format("DD-MM-YYYY").toString(),dateTo:A()(q.checkout).format("DD-MM-YYYY").toString(),room:G,keyword:null===ie||void 0===ie?void 0:ie.name,childAge:ee});if(null!==ie&&void 0!==ie&&ie.productId)e="/product/hotel/detail",t=E(E({},t),{},{productId:ie.productId});else if(k)return N.push("".concat(e,"?").concat(F.stringify(t)));b&&b(t),v&&v(),j&&j(),N.push("".concat(e,"?").concat(F.stringify(t)))}else alert("Masukan detail tujuan")},className:"btn btn-primary mt-3 font-weight-bold shadow btn-sm btn-block",children:"Search"})]})})})]}),(0,y.jsx)(w,{keyword:Z,handleChangeKeyword:function(e){var t=e.target.value;M(t)},open:S.destination,hotelSelected:ie,setHotelSelected:se,toggle:re}),(0,y.jsx)(H,{isOpen:z.date,onClose:function(){return ce("date","checkin")},date:q,handleChange:function(e,t){var n,i;"checkin"===e?(i=t,R((function(e){return E(E({},e),{},{checkin:i,checkout:A()(i).add(1,"days").toDate()})}))):(n=t,A()(n).startOf("D").isSame(A()(q.checkin).startOf("D"))?R((function(e){return E(E({},e),{},{checkout:A()(q.checkout).toDate()})})):R((function(e){return E(E({},e),{},{checkout:n})})))},dateActive:V,handleChangeDateActive:ae}),(0,y.jsx)(P,{isOpen:z.visitor,onClose:function(){return ce("visitor")},visitor:W,childAge:ee,room:G,handleAddVisitor:function(e){"adult"===e?W.adult<32&&X((function(t){return E(E({},t),{},(0,s.Z)({},e,Number(t[e])+1))})):Number(W.child)<10&&(X((function(t){return E(E({},t),{},(0,s.Z)({},e,Number(t[e])+1))})),de(W.child+1-1,1))},handleChangeAge:de,handleChangeRoom:function(e){"reduce"===e?Number(G)>1&&Q(Number(G)-1):Number(G)<8&&Q(Number(G)+1)},handleReduceVisitor:function(e){"adult"===e?W[e]>1&&X((function(t){return E(E({},t),{},(0,s.Z)({},e,Number(t[e])-1))})):W[e]>0&&(X((function(t){return E(E({},t),{},(0,s.Z)({},e,Number(t[e])-1))})),function(e){var t=(0,i.Z)(ee);t.splice(e,1),te(t)}(W.child-1))}})]})}}}]);