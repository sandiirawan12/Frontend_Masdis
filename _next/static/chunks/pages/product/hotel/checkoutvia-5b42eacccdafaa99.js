(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9062],{42762:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return H}});var a=t(67294),s=t(27812),i=t(16835),l=t(59499),o=t(186),r=t(25675),c=t(17563),d=t(25617),u=t(11163),m=t(16385),h=t(1954),p=t(418),x=t(74078),j=t(93920),f=t(45544),g=t(20627),v=t(45046),b=t(32701),N=t(10684),y=t(72132),k=t(62816),w=t(86455),S=t.n(w),C=t(46610),_=t(50542),E=t(85893);function O(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,a)}return t}function T(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?O(Object(t),!0).forEach((function(n){(0,l.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):O(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}_.ZP.initialize("G-56R5954QCE");var P={options:{},filters:{},meta:{},hotel:void 0,isLoading:!0};function I(e){var n=c.parse(e),t={product:"hotel",key:"",hotelId:"",option:"",optionDetail:[]};return"string"===typeof n.option&&(t.option=n.option),"string"===typeof n.hotelId&&(t.hotelId=n.hotelId),"string"===typeof n.key&&(t.key=n.key),"string"===typeof n.optionDetail&&(n.optionDetail?t.optionDetail=[n.optionDetail]:t.optionDetail=[]),"object"===typeof n.optionDetail&&(t.optionDetail=n.optionDetail),t}function Z(e,n){switch(n.type){case"FETCH_HOTEL":return T(T({},e),{},{isLoading:!0});case"FETCH_HOTEL_SUCCESS":return T(T({},e),{},{hotel:n.payload,isLoading:!1});case"SET_FILTER_VALUE":return T(T({},e),{},{options:T(T({},e.options),{},{page:1}),filters:T(T({},e.filters),{},(0,l.Z)({},n.filter,n.value))});case"SET_META":return T(T({},e),{},{meta:n.payload});case"SET_OPTION_VALUE":return T(T({},e),{},{options:T(T({},e.options),{},(0,l.Z)({page:1},n.option,n.value))});case"SET_OPTIONS_VALUE":return T(T({},e),{},{options:n.value});default:throw new Error}}function L(e){var n=[I(window.location.search)],t=(0,i.Z)(n,1)[0];return T(T({},e),{},{options:t})}var R=o.default.div.withConfig({displayName:"HotelCheckoutVia__ImageContianer",componentId:"sc-4iruof-0"})(["width:60px;height:80px;position:relative;> div{position:unset !important;}.image{object-fit:cover;width:100% !important;position:relative !important;height:unset !important;border-radius:10px !important;}"]),F=function(){var e,n,t,i,o,w,O,I,F=(0,a.useReducer)(Z,P,L),D=F[0],M=F[1],A=(0,d.v9)((function(e){return e})),K=A.token,B=A.user,H=(0,u.useRouter)(),J=(0,a.useState)(),V=J[0],U=J[1],q=(0,a.useState)(),G=q[0],z=q[1],Q=(0,a.useState)([]),X=Q[0],W=Q[1],Y=(0,a.useState)(!1),$=Y[0],ee=Y[1],ne=(0,a.useState)(!1),te=ne[0],ae=ne[1],se=(0,a.useState)(""),ie=se[0],le=se[1],oe=K.access_token,re=(0,a.useState)(0),ce=re[0],de=(re[1],(0,a.useState)(T(T({},B),{},{phoneCode:"62",title:"Mr"}))),ue=de[0],me=de[1],he=(0,a.useState)([]),pe=he[0],xe=he[1],je=(0,a.useState)(!1),fe=je[0],ge=je[1],ve=(0,a.useState)({type:"adult",title:ue.title,firstName:ue.first,lastName:ue.last}),be=ve[0],Ne=ve[1],ye=(0,a.useState)(!1),ke=ye[0],we=ye[1],Se=(0,a.useState)(""),Ce=Se[0],_e=Se[1],Ee=(0,a.useState)(!1),Oe=Ee[0],Te=Ee[1],Pe=(0,a.useState)(!1),Ie=Pe[0],Ze=Pe[1],Le=function(e){var n=e.target,t=n.name,a=n.value;Ne(T(T({},be),{},(0,l.Z)({},t,a)))},Re=function(e){var n=e.target,t=n.name,a=n.value;me(T(T({},ue),{},(0,l.Z)({},t,a)))},Fe=function(e){var n=new Set((0,s.Z)(X));n.add(e),W((0,s.Z)(n)),De()},De=function(){ae((function(e){return!e}))};(0,a.useEffect)((function(){_.ZP.pageview(window.location.pathname+window.location.search);var e=function(e){var n={};return""!==e.key&&(n.key=e.key),""!==e.option&&(n.option=e.option),""!==e.hotelId&&(n.hotelId=e.hotelId),""===e.optionDetail&&e.optionDetail===[]||(n.optionDetail=e.optionDetail),c.stringify(n,{encode:!1})}(D.options),n=c.stringifyUrl(T(T({},c.parseUrl(H.asPath)),{},{query:c.parse(e)}),{encode:!1});H.replace(H.pathname,n,{shallow:!0}).then((function(){window.history.replaceState(T(T({},window.history.state),{},{options:T(T({},window.history.state.options),{},{shallow:!1})}),"",n)}))}),[D.options]),(0,a.useEffect)((function(){return U(T(T({},V),{},{isLoading:!0})),m.Z.getPrebookHotelVia(oe,T(T({},D.options),{},{id:D.options.hotelId})).then((function(e){e.success?(U(T(T({},V),{},{isLoading:!1,data:e.data})),localStorage.setItem("prebook",JSON.stringify(e.data))):e.message.includes("Booking token already exist for this criteria")?localStorage.getItem("prebook")?U(T(T({},V),{},{isLoading:!1,data:JSON.parse(localStorage.getItem("prebook"))})):S().fire({icon:"info",title:"Terjadi Kesalahan",text:"Silahkan pilih ulang pesanan anda",confirmButtonColor:"#0070ba"}).then((function(e){e.isConfirmed&&H.back()})):S().fire({icon:"info",title:"Terjadi Kesalahan",text:"Silahkan pilih ulang pesanan anda",allowOutsideClick:!1,confirmButtonColor:"#0070ba"}).then((function(e){e.isConfirmed&&H.back()}))})),function(){localStorage.removeItem("prebook")}}),[D.options]),(0,a.useEffect)((function(){M({type:"FETCH_HOTEL"}),null!==V&&void 0!==V&&V.data&&m.Z.getCheckoutHotelVia(oe,V.data).then((function(e){e.success?M({type:"FETCH_HOTEL_SUCCESS",payload:e.data}):(y.Am.error("Kamar hotel tidak tersedia"),H.back())}))}),[V]),(0,a.useEffect)((function(){var e=!0;return e&&k.Z.getCountries().then((function(e){e.success&&xe(e.data)})),function(){e=!1}}),[]),(0,a.useEffect)((function(){var e,n={product:"hotel",key:null===(e=D.hotel)||void 0===e?void 0:e.key,insurance:!1,point:$,coupon:X,paymentMethod:ce,platform:"web",ssr:[]};D.hotel&&m.Z.getCountPrice(oe,n).then((function(e){e.success?z(e.data):e.message.includes("coupon")&&(W((0,s.Z)(X).filter((function(n){return n!==e.note}))),y.Am.error("Kupon sudah digunakan",{position:"top-right",toastId:"coupon"}))}))}),[D.hotel,ce,$,X]);var Me=D.hotel;return D.isLoading?(0,E.jsxs)("div",{style:{height:"50vh",marginBottom:"5rem"},className:"d-flex flex-column align-items-center justify-content-center",children:[(0,E.jsx)("img",{src:"https://cdn.masterdiskon.com/masterdiskon/assets/front/img/src/pulse-spinner.svg"}),(0,E.jsx)("h4",{children:"Sedang menyiapkan data..."})]}):(0,E.jsxs)("section",{className:"my-3",children:[(0,E.jsxs)("div",{className:"container",children:[(0,E.jsx)("h5",{className:"font-weight-bold",children:"Pemesanan Hotel"}),(0,E.jsxs)("div",{className:"row",children:[(0,E.jsxs)("div",{className:"col-md-8",children:[(0,E.jsx)("div",{className:"card shadow-sm mb-2",style:{borderRadius:"20px"},children:(0,E.jsxs)("div",{className:"card-body",children:[(0,E.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,E.jsxs)("div",{children:[(0,E.jsx)("h5",{className:"mb-0 font-weight-bold text-primary",children:Me.name}),(0,E.jsx)("p",{className:"mb-2 namakamar",children:null===(e=Me.booked.option[0])||void 0===e?void 0:e.name}),(0,E.jsxs)("p",{className:"mb-2 ",children:[(0,E.jsx)("div",{className:"d-inline-block",style:{width:"20px",height:"20px",position:"relative"},children:(0,E.jsx)(r.default,{src:"https://cdn.masterdiskon.com/masterdiskon/icon/fe/location.png",layout:"fill"})}),(0,E.jsx)("span",{className:"namakota",children:Me.detail.address})]})]}),(0,E.jsx)(R,{children:(0,E.jsx)(r.default,{layout:"fill",src:Me.image,className:"rounded image"})})]}),(0,E.jsx)("hr",{}),(0,E.jsxs)("div",{className:"row",children:[(0,E.jsxs)("div",{className:"col-md-6",children:[(0,E.jsx)("strong",{children:(0,E.jsx)("span",{children:"Check-in"})}),(0,E.jsxs)("div",{children:[(0,E.jsxs)("p",{className:"mb-0 ckiNckoIndonesia",children:[Me.booked.dateFrom," - ",Me.booked.dateTo]}),(0,E.jsx)("p",{className:"mb-2",children:"Malam"})]})]}),(0,E.jsxs)("div",{className:"col-md-3 offset-md-3",children:[(0,E.jsx)("strong",{children:(0,E.jsx)("span",{children:"Jumlah Kamar"})}),(0,E.jsxs)("p",{className:"mb-2 jumlahkamardantamu",children:[null===Me||void 0===Me||null===(n=Me.booked)||void 0===n||null===(t=n.traveller)||void 0===t?void 0:t.length," Kamar / ",null===Me||void 0===Me||null===(i=Me.booked)||void 0===i||null===(o=i.traveller)||void 0===o?void 0:o.reduce((function(e,n){return Number(e)+Number(n.adult)+Number(n.child)+Number(n.infant)}),0)," Tamu"]})]}),(0,E.jsxs)("div",{className:"col-md-12 mt-4",children:[(0,E.jsx)("p",{id:"textmealname",className:"mb-0 ",children:(0,E.jsx)("strong",{children:"Fasilitas"})}),(0,E.jsx)("p",{className:"font-weight-bold text-danger",children:Me.booked.option[0].facilities})]})]})]})}),(0,E.jsxs)("div",{className:"alert shadow-sm alert-warning",style:{borderRadius:"15px"},children:[(0,E.jsx)("p",{className:"mb-1",children:(0,E.jsx)("b",{children:"Perhatian"})}),(0,E.jsx)("span",{children:"Pengisian nama harus sesuai dengan ID Card yang berlaku (KTP/Passport/KITAS). Master Diskon tidak bertanggung jawab atas kesalahan pengisian nama."})]}),(0,E.jsxs)("div",{className:"card mb-2 shadow-sm",style:{borderRadius:"20px"},children:[(0,E.jsx)("div",{className:"card-header",style:{borderTopLeftRadius:"20px",borderTopRightRadius:"20px",background:"#0070BA",color:"white"},children:(0,E.jsx)("p",{className:"card-title mb-0",children:(0,E.jsx)("b",{children:"Info Kontak (untuk E-ticket/Voucher)"})})}),(0,E.jsxs)("div",{className:"card-body",children:[(0,E.jsxs)("div",{className:"form-row",children:[(0,E.jsx)("div",{className:"col-2",children:(0,E.jsxs)("div",{className:"form-group",children:[(0,E.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Titel"}),(0,E.jsxs)("select",{name:"title",value:null===ue||void 0===ue?void 0:ue.title,onChange:Re,id:"title_guest",className:"form-control title",children:[(0,E.jsx)("option",{value:"Mr",children:"Mr."}),(0,E.jsx)("option",{value:"Mrs",children:"Mrs."}),(0,E.jsx)("option",{value:"Ms",children:"Ms."})]})]})}),(0,E.jsx)("div",{className:"col-5",children:(0,E.jsxs)("div",{className:"form-group",children:[(0,E.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Nama Depan"}),(0,E.jsx)("input",{name:"first",value:null===ue||void 0===ue?void 0:ue.first,onChange:Re,type:"text",className:"textonly form-control firstnamecontact",required:!0})]})}),(0,E.jsx)("div",{className:"col-5",children:(0,E.jsxs)("div",{className:"form-group",children:[(0,E.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Nama Belakang"}),(0,E.jsx)("input",{name:"last",value:null===ue||void 0===ue?void 0:ue.last,onChange:Re,type:"text",className:"textonly form-control form-control lastnamecontact",required:!0})]})}),(0,E.jsx)("div",{className:"col-md-6",children:(0,E.jsxs)("div",{className:"form-group",children:[(0,E.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Telepon"}),(0,E.jsxs)("div",{className:"input-group",children:[(0,E.jsx)("select",{value:null===ue||void 0===ue?void 0:ue.phoneCode,onChange:Re,name:"phoneCode",className:"form-control select2 pilihnegara",style:{width:"30%"},children:null===pe||void 0===pe?void 0:pe.map((function(e){return(0,E.jsx)("option",{value:e.phone,children:e.phone})}))}),(0,E.jsx)("input",{value:null===ue||void 0===ue?void 0:ue.phone,onChange:Re,name:"phone",type:"text",className:"numberonly form-control",style:{width:"70%"},defaultValue:!0,placeholder:"masukan nomor telepon anda"})]})]})}),(0,E.jsx)("div",{className:"col-md-6",children:(0,E.jsxs)("div",{className:"form-group",children:[(0,E.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Email"}),(0,E.jsx)("input",{name:"email",value:null===ue||void 0===ue?void 0:ue.email,onChange:Re,type:"text",className:"textonly form-control form-control",defaultValue:!0,placeholder:"masukan email anda"})]})})]}),(0,E.jsxs)("div",{className:"custom-control custom-checkbox",children:[(0,E.jsx)("input",{type:"checkbox",checked:fe,className:"custom-control-input sebagai-tamu",id:"customCheck1",onClick:function(){ge(!fe)}}),(0,E.jsx)("label",{className:"custom-control-label",htmlFor:"customCheck1",children:"Memesan untuk orang lain"})]})]})]}),fe&&(0,E.jsx)("div",{className:"guest-container mb-2",children:(0,E.jsxs)("ul",{className:"list-group shadow mb-2",style:{borderRadius:"20px"},children:[(0,E.jsx)("li",{className:"list-group-item text-white font-weight-bold",style:{background:"#0070BA"},children:"Guest Kamar"}),(0,E.jsx)("li",{className:"list-group-item",children:(0,E.jsxs)("div",{className:"form-row",children:[(0,E.jsx)("div",{className:"col-2",children:(0,E.jsxs)("div",{className:"form-group",children:[(0,E.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Title"}),(0,E.jsxs)("select",{onChange:Le,className:"form-control all_title title_",value:be.title,name:"title",children:[(0,E.jsx)("option",{value:"Mr",children:"Mr."}),(0,E.jsx)("option",{value:"Mrs",children:"Mrs."})]})]})}),(0,E.jsx)("div",{className:"col-5",children:(0,E.jsxs)("div",{className:"form-group",children:[(0,E.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Nama Depan"}),(0,E.jsx)("input",{type:"text",className:"textonly form-control all_firstname firstname_",value:be.firstName,name:"firstName",onChange:Le,autoComplete:"off"})]})}),(0,E.jsx)("div",{className:"col-5",children:(0,E.jsxs)("div",{className:"form-group",children:[(0,E.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Nama Belakang"}),(0,E.jsx)("input",{type:"text",value:be.lastName,onChange:Le,className:"textonly form-control all_lastname lastname_",name:"lastName"})]})})]})})]})}),(0,E.jsxs)("ul",{className:"list-group shadow-sm",style:{borderRadius:"20px"},children:[(0,E.jsxs)("li",{className:"list-group-item text-white",style:{background:"#0070BA"},children:[(0,E.jsxs)("span",{children:[(0,E.jsx)("b",{children:"Permintaan Khusus (opsional)"}),(0,E.jsx)("button",{type:"button",onClick:function(){return we((function(e){return!e}))},className:"btn btn-sm text-white float-right",children:(0,E.jsx)(h.JO,{icon:j.Z})})," "]}),(0,E.jsx)(g.Z,{isOpen:ke,children:(0,E.jsx)("small",{children:"permintaan khusus atau fasilitas penyandang cacat (misalnya tempat tidur lipat, check-in terlambat, dan kamar penyandang cacat tidak dijamin. Jika Anda tidak menerima informasi apa pun dari properti, Anda mungkin harus menghubungi mereka secara langsung untuk mengonfirmasi. Properti mungkin mengenakan biaya untuk permintaan khusus tertentu."})})]}),(0,E.jsx)("li",{className:"list-group-item",children:(0,E.jsx)("div",{className:"my-2",id:"special_request",children:(0,E.jsx)("textarea",{onChange:function(e){return _e(e.target.value)},className:"form-control",rows:3})})})]})]}),(0,E.jsx)("div",{className:"col-md-4",children:(0,E.jsx)("div",{className:"sticky-top20",children:(0,E.jsxs)("div",{className:"card shadow-sm",style:{borderRadius:"20px"},children:[(0,E.jsx)("div",{className:"card-header font-weight-bold text-white",style:{borderTopLeftRadius:"20px",borderTopRightRadius:"20px",background:"#0070BA"},children:(0,E.jsx)("span",{children:"Rincian Belanja"})}),(0,E.jsxs)("div",{className:"card-body",children:["corporate"==(null===ue||void 0===ue?void 0:ue.role)?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("span",{children:[" Company ",(0,E.jsx)("br",{}),(0,E.jsx)("span",{className:"mb-0 font-weight-bold text-primary",children:null===(w=ue.company)||void 0===w?void 0:w.name})]}),(0,E.jsx)("br",{}),(0,E.jsxs)("span",{children:[" Sisa Saldo ",(0,E.jsx)("br",{}),(0,E.jsxs)("span",{className:"mb-0 font-weight-bold text-primary",children:["Rp ",ue.company.saldo.toLocaleString().replaceAll(",",".")]})]}),(0,E.jsx)("hr",{})]}):(0,E.jsx)(E.Fragment,{}),(0,E.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,E.jsx)("span",{children:(0,E.jsx)("strong",{children:"Jumlah 1 Kamar"})}),(0,E.jsx)("span",{className:"harga_markup_for_midrans",style:{position:"absolute",right:"4%"},children:(0,E.jsx)("strong",{})}),(0,E.jsx)("br",{})]}),(0,E.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,E.jsx)("span",{children:(0,E.jsx)("strong",{children:"Sub Total"})}),(0,E.jsx)("span",{children:(0,E.jsxs)("strong",{className:"text_fee",children:["Rp",null===G||void 0===G?void 0:G.subtotal.toLocaleString()]})})]}),(0,E.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,E.jsx)("span",{children:(0,E.jsx)("strong",{children:"Pajak"})}),(0,E.jsx)("span",{className:"text_fee",children:(0,E.jsxs)("strong",{children:["Rp",((null===G||void 0===G?void 0:G.total)-(null===G||void 0===G?void 0:G.subtotal)).toLocaleString()]})})]}),(0,E.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,E.jsx)("span",{children:(0,E.jsx)("strong",{children:"Biaya Penanganan"})}),(0,E.jsx)("span",{children:(0,E.jsxs)("strong",{className:"text_fee",children:["Rp",null===G||void 0===G?void 0:G.fee.toLocaleString()]})})]}),"user"==(null===ue||void 0===ue?void 0:ue.role)?(0,E.jsxs)(E.Fragment,{children:[(0,E.jsxs)("div",{id:"coupon_checkout",className:"d-flex justify-content-between align-items-center mb-2",children:[(0,E.jsx)("span",{children:(0,E.jsx)("strong",{children:"Kupon"})}),(0,E.jsx)("div",{children:(0,E.jsx)("button",{type:"button",onClick:De,className:"btn btn-sm btn-warning",children:"Gunakan Kupon "})})]}),null===G||void 0===G?void 0:G.coupon.map((function(e){return(0,E.jsxs)("div",{className:"d-flex justify-content-between",children:[(0,E.jsx)("span",{className:"pb-2 text-danger",children:e.name}),(0,E.jsxs)("p",{className:"text-danger",children:["- Rp",e.amount.toLocaleString(),(0,E.jsx)(h.JO,{style:{cursor:"pointer"},icon:x.Z,onClick:function(){var n;"umum"===(n=e).type?W(X.filter((function(e){return e!==n.code}))):W(X.filter((function(e){return e!==n.id.toString()})))}})]})]})})),(0,E.jsxs)("div",{className:"d-flex justify-content-between align-items-center mb-2",children:[(0,E.jsx)("div",{className:"text-danger font-weight-bold text-uppercase judul_point",children:"Poin"}),(0,E.jsx)("h6",{children:(0,E.jsx)("strong",{className:"total_poin",children:null===G||void 0===G||null===(O=G.user)||void 0===O?void 0:O.point.toLocaleString()})})]}),(null===G||void 0===G?void 0:G.point)>0&&(0,E.jsx)("div",{className:"d-flex justify-content-end align-items-center mb-2",children:(0,E.jsx)("h6",{children:(0,E.jsxs)("strong",{className:"text-danger",children:["-",null===G||void 0===G?void 0:G.point]})})}),(0,E.jsxs)("div",{className:"kotakambilpoint",children:[(0,E.jsx)("input",{onClick:function(){ee((function(e){return!e}))},checked:$,type:"checkbox",id:"ambilpoint"}),(0,E.jsx)("label",{className:"font-weight-bold font-italic",htmlFor:"ambilpoint",children:"Gunakan poin untuk pembayaran"})]})]}):(0,E.jsx)(E.Fragment,{}),(0,E.jsx)("hr",{}),(0,E.jsxs)("div",{className:"d-flex my-2 justify-content-between mt-2",children:[(0,E.jsx)("h5",{children:"Total"}),(0,E.jsxs)("h4",{id:"total_teks",className:"total_teks harga_terkini",children:["Rp",null===G||void 0===G?void 0:G.total.toLocaleString()]})]}),(0,E.jsxs)("p",{children:[(0,E.jsx)("div",{style:{cursor:"pointer"},onClick:function(){return Ze((function(e){return!e}))},children:(0,E.jsxs)("strong",{children:["Kebijakan pembatalan ",(0,E.jsx)(h.JO,{icon:f.Z})," "]})}),(0,E.jsx)(g.Z,{isOpen:Ie,children:(0,E.jsx)("p",{className:"text-justify",children:null===Me||void 0===Me||null===(I=Me.detail)||void 0===I?void 0:I.cancellationPolicy})})]})]})]})})})]})]}),(0,E.jsx)(C.Z,{total:null===G||void 0===G?void 0:G.total,isLoading:Oe,onSubmit:function(){Te(!0);var e={product:"hotel",key:V.data.key,price:T(T({},G),{},{discount:G.discount.grandTotal,insurance:0,tax:0}),coupon:X,paymentMethod:ce,contact:T(T({},ue),{},{firstName:ue.first,lastName:ue.last}),guest:[be],specialRequest:Ce};m.Z.submitCheckoutVia(oe,e).then((function(e){e.success?H.push("/user/purchase/detail/".concat(e.data.key)):y.Am.error("Pesanan gagal dibuat, pastikan data lengkap"),Te(!1)}))}}),(0,E.jsxs)(v.Z,{isOpen:te,toggle:De,centered:!0,size:"lg",children:[(0,E.jsx)(b.Z,{toggle:De,children:(0,E.jsxs)("h5",{children:["Pilih kupon ",(0,E.jsx)(h.JO,{icon:j.Z})]})}),(0,E.jsxs)(N.Z,{children:[(0,E.jsxs)("div",{className:"input-group mb-3",children:[(0,E.jsx)("input",{type:"text",value:ie,onChange:function(e){return le(e.target.value)},className:"form-control",placeholder:"Enter Code . . . "}),(0,E.jsx)("div",{className:"input-group-append",children:(0,E.jsx)("button",{onClick:function(){return Fe(ie)},className:"btn btn-outline-primary",type:"button",children:(0,E.jsx)(h.JO,{icon:p.Z})})})]}),(0,E.jsx)("div",{className:"container",children:null===G||void 0===G?void 0:G.user.coupon.map((function(e){return(0,E.jsxs)("div",{className:"row border rounded",children:[(0,E.jsx)("div",{className:"col-3 rounded d-flex bg-warning align-items-center justify-content-center",children:(0,E.jsx)("h6",{children:e.name})}),(0,E.jsxs)("div",{className:"col-9 d-flex justify-content-between p-3",children:[(0,E.jsxs)("div",{children:[(0,E.jsxs)("h6",{children:["Potongan ",e.amount.toLocaleString()]}),e.minimum_transaction>0&&(0,E.jsxs)("p",{children:["Min.Blnj Rp",e.minimum_transaction.toLocaleString()]}),(0,E.jsx)("button",{onClick:function(){return Fe(e.id.toString())},type:"button",className:"btn btn-primary",children:"Gunakan"})]}),(0,E.jsxs)("div",{children:[(0,E.jsxs)("small",{children:["Hingga: ",e.expired]}),(0,E.jsx)("p",{children:e.term})]})]})]})}))})]})]})]})},D=t(64624),M=t(30454),A=t(3467),K=t(1852);function B(){var e=(0,K.useMediaQuery)({query:"(max-width:1224px)"})?D.Z:F;return(0,E.jsx)(e,{})}B.Layout={desktop:M.Z,mobile:a.Fragment};var H=(0,A.Z)(B,{auth:!0,pathAfterFailure:"/login"})},65370:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/product/hotel/checkoutvia",function(){return t(42762)}])}},function(e){e.O(0,[6319,1954,186,7381,542,5496,4317,1844,9512,768,454,6385,4651,9774,2888,179],(function(){return n=65370,e(e.s=n);var n}));var n=e.O();_N_E=n}]);