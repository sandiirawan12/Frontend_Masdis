(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7350],{57904:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return H}});var a=n(67294),i=n(30454),s=n(27812),l=n(16835),r=n(59499),o=n(16385),d=n(1954),c=(n(16568),n(11163)),u=n(25617),m=n(186),h=(n(44681),n(25675),n(62816)),p=n(45046),x=n(32701),f=n(10684),v=n(41664),j=n(28069),b=n(85893);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var N=function(e){var t=e.item,n=e.name,i=e.handleChange,s=(e.trainRepricing,e.style),l=(e.countries,e.handleAddFromQuickpick),r=e.onClose,o=(0,a.useState)(!1),d=(o[0],o[1],(0,a.useState)([])),c=d[0],m=d[1],g=(0,u.v9)((function(e){return e.token})).access_token,N=(0,a.useState)({page:1,limit:5}),k=N[0],_=N[1],w=(0,a.useState)(),S=w[0],O=w[1],C=(0,a.useState)(!1),D=C[0],Y=C[1],M=function(e){var a=e.target,s=a.name,l=a.value;i(n,t,{field:s,value:l})},T=function(){switch(n){case"adult":return"Dewasa";case"child":return"Anak-anak";case"infant":return"Bayi"}};(0,a.useEffect)((function(){h.Z.getListQuickpick(g,y({type:n},k)).then((function(e){e.success&&(O(e.meta),m(e.data),console.log(e.data))}))}),[n,k]);var P=function(){Y((function(e){return!e}))};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("li",{className:"bg-white mb-3",style:y({borderRadius:"15px",listStyle:"none",boxShadow:"-1px 3px 11px -7px rgba(156,156,156,0.75)"},s),children:[(0,b.jsxs)("div",{className:"p-3 d-flex flex-row justify-content-between align-items-center",style:{borderTopLeftRadius:"15px",borderTopRightRadius:"15px",background:"Dewasa"===T()?"#0070ba":"#6e83b7"},children:[(0,b.jsxs)("h5",{className:"text-white font-weight-bold",children:[r&&(0,b.jsx)("i",{className:"fas fa-times mr-2",onClick:r}),T()," - ",t.id]}),(0,b.jsx)("div",{className:"dropdown",children:(0,b.jsx)("button",{onClick:P,className:"btn btn-sm btn-light dropdown-toggle",type:"button",id:"dropdownMenuButton",children:"Quickpick"})})]}),(0,b.jsxs)("div",{className:"form-row p-3",children:[(0,b.jsxs)("div",{className:"col-md-2",children:["Dewasa"===T()&&(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Title"}),(0,b.jsxs)("select",{value:t.title,onChange:M,className:"form-control",name:"title",children:[(0,b.jsx)("option",{value:"Mr",children:"Mr"}),(0,b.jsx)("option",{value:"Mrs",children:"Mrs"}),(0,b.jsx)("option",{value:"Ms",children:"Ms"})]})]}),"Bayi"===T()&&(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Title"}),(0,b.jsxs)("select",{value:t.title,onChange:M,className:"form-control",name:"title",children:[(0,b.jsx)("option",{value:"Mstr",children:"Mstr"}),(0,b.jsx)("option",{value:"Miss",children:"Miss"})]})]})]}),(0,b.jsx)("div",{className:"col-md-5",children:(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Nama Depan"}),(0,b.jsx)("input",{value:t.firstName,type:"text",className:"textonly form-control",name:"firstName",onChange:M})]})}),(0,b.jsx)("div",{className:"col-md-5",children:(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Nama Belakang"}),(0,b.jsx)("input",{type:"text",value:t.lastName,className:"textonly form-control",onChange:M,name:"lastName",required:!0})]})}),(0,b.jsx)("div",{className:"col-md-6",children:(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{children:"ID Type"}),(0,b.jsxs)("div",{className:"input-group",children:[(0,b.jsxs)("select",{name:"id_type",value:t.id_type,onChange:M,className:"form-control",style:{width:"35%"},children:[(0,b.jsx)("option",{value:"",children:"Pilih"}),(0,b.jsx)("option",{value:"KTP",children:"KTP"}),(0,b.jsx)("option",{value:"PASSPORT",children:"Passport"})]}),(0,b.jsx)("input",{required:!0,onChange:M,name:"no_type",value:t.no_type,type:"text",className:"textonly form-control",style:{width:"65%"}})]})]})}),(0,b.jsx)("div",{className:"col-md-3",children:(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{htmlFor:"exampleInputEmail1",children:"No Telp"}),(0,b.jsx)("input",{value:t.phone,type:"number",className:"textonly form-control",name:"phone",onChange:M})]})}),(0,b.jsx)("div",{className:"col-md-3",children:(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Tanggal Lahir"}),(0,b.jsx)("input",{value:t.dob,type:"date",className:"textonly form-control",name:"dob",onChange:M})]})})]}),"Dewasa"===T()&&(0,b.jsx)("p",{className:"text-info pl-3 pb-1",children:"Pastikan nama dan nomor identitas yang anda masukkan sudah benar"})]}),(0,b.jsxs)(p.Z,{isOpen:D,centered:!0,size:"lg",children:[(0,b.jsx)(x.Z,{toggle:P,children:"List Quickpick"}),(0,b.jsxs)(f.Z,{children:[(0,b.jsx)("ul",{className:"list-group",children:c.map((function(e){return(0,b.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"Title :"}),(0,b.jsx)("span",{className:"ml-3",style:{textTransform:"uppercase"},children:e.title})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"Name Lengkap :"}),(0,b.jsxs)("span",{className:"ml-3",style:{textTransform:"capitalize"},children:[e.firstname," ",e.lastname]})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"No Telp :"}),(0,b.jsx)("span",{className:"ml-3",children:e.phone})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"No KTP :"}),(0,b.jsx)("span",{className:"ml-3",children:e.identificationNumber})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"No Passport :"}),(0,b.jsx)("span",{className:"ml-3",children:e.passportNumber})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("strong",{children:"Tanggal Lahir :"}),(0,b.jsx)("span",{className:"ml-3",children:e.dob})]})]}),(0,b.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(){l(n,t,e),P()},children:"Pilih"})]})}))}),(0,b.jsx)(v.default,{href:"/user/quickpick",children:(0,b.jsx)("button",{className:"btn btn-block btn-primary font-weight-bold mt-3",type:"button",children:"Tambah Quickpick"})}),S&&(0,b.jsx)("div",{className:"mt-4 d-flex justify-content-end w-100",children:(0,b.jsx)(j.Z,{onPageChange:function(e){_((function(t){return y(y({},t),{},{page:e})}))},currentPage:S.page,pageSize:S.limit,totalCount:S.total,className:"pagination-bar"})})]})]})]})},k=n(418),_=(n(74078),n(93920));var w=function(e){var t=e.total,n=e.selectSeat,a=e.onSubmit,i=e.isLoading;return(0,b.jsx)("div",{className:"fixed-bottom justify-content-around align-items-center py-2 px-5 border-top bg-white",children:(0,b.jsxs)("div",{className:"row",children:[(0,b.jsxs)("div",{className:"col-md-8 d-flex align-items-center",children:[(0,b.jsx)("h3",{children:"Total"}),(0,b.jsxs)("h3",{className:"ml-4 text-primary font-weight-bold",children:["Rp ",null===t||void 0===t?void 0:t.toLocaleString()]})]}),(0,b.jsx)("div",{className:"col-md-2",children:(0,b.jsx)("button",{id:"submit-cart",style:i?{opacity:.8,pointerEvents:"none"}:{},onClick:n,className:"btn btn-md btn-warning font-weight-bold float-right",children:i?"Loading...":"Pilih Seat"})}),(0,b.jsx)("div",{className:"col-md-2",children:(0,b.jsx)("button",{id:"submit-cart",style:i?{opacity:.8,pointerEvents:"none"}:{},onClick:a,className:"btn btn-md btn-primary font-weight-bold",children:i?"Loading...":"Pesan Sekarang"})})]})})},S=n(30381),O=n.n(S),C=n(72132),D=n(17563),Y=n(86455),M=n.n(Y),T=n(50542);function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Z(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}T.ZP.initialize("G-56R5954QCE");var E={key:""};function R(e){var t=D.parse(e),n="";return"string"===typeof t.key&&(n=t.key),n}function F(e,t){switch(t.type){case"FETCH_TRAIN":return Z(Z({},e),{},{key:t.payload});default:throw new Error}}function I(e){var t=[R(window.location.search)],n=(0,l.Z)(t,1)[0];return Z(Z({},e),{},{key:n})}var L=m.default.ul.withConfig({displayName:"TrainPassanger__TimeLineStyled",componentId:"sc-1j665ch-0"})(["position:relative;li{margin-left:0;min-height:33px;position:relative;background-color:#fff;list-style:none;}li:nth-last-child(0n+1)::before{width:0;border:0;}li::before{content:'';position:absolute;border:1.8px dashed #FFC107;left:-18.5px;background-color:#E7E7E7;top:3px;bottom:0;height:100px;}li::after{text-align:center;z-index:10;content:'';position:absolute;width:25px;height:25px;border:3px solid #fff;background-color:#036cb4;border-radius:50%;top:0;left:-30px;}"]),A=(m.default.div.withConfig({displayName:"TrainPassanger__ThumnailStyled",componentId:"sc-1j665ch-1"})(["max-width:100%;min-height:62px;padding:.25rem;background-color:#fff;border-radius:.25rem;position:relative;"]),function(){var e,t,n,i,l,m,v,j,g,y,S,D,Y,P,R,A,J,Q,q,B,z,H,K,G,X=(0,a.useReducer)(F,E,I)[0],U=(0,c.useRouter)(),W=(0,u.v9)((function(e){return e})),V=W.token,$=W.user,ee=(0,a.useState)(),te=ee[0],ne=(ee[1],(0,a.useState)(0)),ae=ne[0],ie=(ne[1],(0,a.useState)()),se=ie[0],le=ie[1],re=V.access_token,oe=(0,a.useState)([]),de=oe[0],ce=oe[1],ue=(0,a.useState)(!0),me=ue[0],he=ue[1],pe=(0,a.useState)(),xe=pe[0],fe=pe[1],ve=(0,a.useState)({adult:[],child:[],infant:[]}),je=ve[0],be=ve[1],ge=(0,a.useState)($),ye=ge[0],Ne=ge[1],ke=(0,a.useState)(!1),_e=ke[0],we=ke[1],Se=(0,a.useState)([]),Oe=Se[0],Ce=Se[1],De=(0,a.useState)(!1),Ye=De[0],Me=(De[1],(0,a.useState)(!1)),Te=Me[0],Pe=Me[1],Ze=(0,a.useState)(""),Ee=Ze[0],Re=Ze[1],Fe=(0,a.useState)([]),Ie=Fe[0],Le=Fe[1];(0,a.useEffect)((function(){T.ZP.pageview(window.location.pathname+window.location.search),U.isReady}),[X.key,U.asPath]),(0,a.useEffect)((function(){var e=ye;o.Z.getDataSchedule(U.query.id,e.email).then((function(e){if(200===e.status.code){fe(e.data);var t={adult:Qe(e.data.adult),child:Qe(e.data.child),infant:Qe(e.data.infant)};be(t),he(!1)}else M().fire({icon:"info",title:"Jadwal kereta tidak tersedia",allowOutsideClick:!1}).then((function(e){e.isConfirmed&&U.back()}))}))}),[]);var Ae=function(e){var t=new Set((0,s.Z)(Oe));t.add(e),Ce((0,s.Z)(t)),Je()},Je=function(){Pe((function(e){return!e}))},Qe=function(e){for(var t=[],n=1,a=0;a<e;a++)t[a]={id:n++,title:"Mr",nat:"ID"};return t};(0,a.useEffect)((function(){var e={product:"train",key:null===te||void 0===te?void 0:te.key,insurance:!1,point:Ye,coupon:Oe,paymentMethod:ae,platform:"web",ssr:Ie};te&&(he(!0),o.Z.getCountPrice(re,e).then((function(e){e.success?(le(e.data),he(!1)):e.message.includes("coupon")&&(Ce((0,s.Z)(Oe).filter((function(t){return t!==e.note}))),C.Am.error(e.message,{position:"top-right",toastId:"coupon"}))})))}),[te,ae,Ye,Oe,Ie]);var qe=function(e,t,n){var a=n.title,i=n.firstname,l=n.lastname,o=n.id_type,d=n.phone,c=n.identificationNumber,u=n.tglLahir,m=Z(Z({},je[e].find((function(e){return e.id===t.id}))),{},{type:e}),h=je[e].findIndex((function(e){return e.id===t.id})),p=(0,s.Z)(je[e]);p[h]=Z(Z({},m),{},{title:a,firstName:i,lastName:l,id_type:o,phone:d,identificationNumber:c,dob:u}),be((function(t){return Z(Z({},t),{},(0,r.Z)({},e,p))}))},Be=function(e,t,n){var a=Z(Z({},je[e].find((function(e){return e.id===t.id}))),{},{type:e});if(a.ssr||(a.ssr=[]),"ssr"===n.field){var i=JSON.parse(n.value);if(i.id=t.id,Object.keys(i).length>3){var l;a.ssr=[].concat((0,s.Z)(null===(l=a.ssr)||void 0===l?void 0:l.filter((function(e){return e.key!==JSON.parse(n.value).key||e.ssrType!==JSON.parse(n.value).ssrType}))),[i]),Le((0,s.Z)(new Set([].concat((0,s.Z)(Ie.filter((function(e){return e.id!==t.id||e.key!==JSON.parse(n.value).key||e.ssrType!==JSON.parse(n.value).ssrType}))),(0,s.Z)(a.ssr)))))}else{var o=a.ssr.map((function(e){return"".concat(e.key,",").concat(e.ssrType)})).indexOf("".concat(i.key,",").concat(i.ssrType));a.ssr.splice(o,1);var d=Ie.map((function(e){return"".concat(e.id,",").concat(e.key,",").concat(e.ssrType)})).indexOf("".concat(i.id,",").concat(i.key,",").concat(i.ssrType));Ie.splice(d,1),Le((0,s.Z)(new Set([].concat((0,s.Z)(Ie),(0,s.Z)(a.ssr.reduce((function(e,t){return e.concat(t)}),[]))))))}}else a[n.field]=n.value;var c=je[e].findIndex((function(e){return e.id===t.id})),u=(0,s.Z)(je[e]);u[c]=a,be((function(t){return Z(Z({},t),{},(0,r.Z)({},e,u))}))};(0,a.useEffect)((function(){Ne(Z(Z({},ye),{},{phoneCode:62}));var e=!0;return e&&h.Z.getCountries().then((function(e){e.success&&ce(e.data)})),function(){e=!1}}),[]);var ze=function(e){var t=e.target,n=t.name,a=t.value;Ne(Z(Z({},ye),{},(0,r.Z)({},n,a)))};return!me||te||se?(0,b.jsx)("div",{children:xe?(0,b.jsxs)("section",{className:"my-3",children:[(0,b.jsxs)("div",{className:"container",children:[(0,b.jsx)("h3",{className:"font-weight-bold mt-4 mb-3",children:"Order Detail"}),(0,b.jsxs)("div",{className:"row",children:[(0,b.jsxs)("div",{className:"col-md-8",children:[(0,b.jsxs)("div",{className:"card mb-3",style:{borderRadius:"15px",boxShadow:"-1px 3px 11px -7px rgba(156,156,156,0.75)"},children:[(0,b.jsx)("div",{className:"card-header text-white",style:{borderTopLeftRadius:"15px",borderTopRightRadius:"15px",background:"#0070BA"},children:(0,b.jsx)("h5",{className:"mb-0 card-title font-weight-bold",children:"Detail Pemesan"})}),(0,b.jsxs)("div",{className:"card-body mt-0",children:[(0,b.jsxs)("div",{className:"form-row",children:[(0,b.jsx)("div",{className:"col-2",children:(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Title"}),(0,b.jsxs)("select",{onChange:ze,name:"title",value:ye.title,className:"form-control title contact_title",children:[(0,b.jsx)("option",{value:"Mr",selected:"selected",children:"Mr"}),(0,b.jsx)("option",{value:"Mrs",children:"Mrs"}),(0,b.jsx)("option",{value:"Ms",children:"Ms"})]})]})}),(0,b.jsx)("div",{className:"col-5",children:(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Nama Depan"}),(0,b.jsx)("input",{onChange:ze,name:"first",value:ye.first,type:"text",className:"textonly form-control",required:!0})]})}),(0,b.jsx)("div",{className:"col-5",children:(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Nama Belakang"}),(0,b.jsx)("input",{onChange:ze,name:"last",type:"text",value:ye.last,className:"textonly form-control",required:!0})]})}),(0,b.jsx)("div",{className:"col-md-5",children:(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Telepon"}),(0,b.jsxs)("div",{className:"input-group",children:[(0,b.jsxs)("select",{onChange:ze,value:ye.phoneCode,name:"phoneCode",className:"form-control",style:{width:"31%"},children:[(0,b.jsx)("option",{value:"62",selected:"true",children:"+ 62 - Indonesia"}),de.map((function(e){return(0,b.jsxs)("option",{value:e.phone,children:["+ ",e.phone," - ",e.country_name]})}))]}),(0,b.jsx)("input",{required:!0,onChange:ze,name:"phone",value:ye.phone,type:"text",className:"textonly form-control",style:{width:"69%"}})]})]})}),(0,b.jsx)("div",{className:"col-md-7",children:(0,b.jsxs)("div",{className:"form-group",children:[(0,b.jsx)("label",{htmlFor:"exampleInputEmail1",children:"Email"}),(0,b.jsx)("input",{onChange:ze,name:"email",type:"text",className:"textonly form-control",value:ye.email,required:!0})]})})]}),(0,b.jsxs)("div",{className:"custom-control custom-checkbox",children:[(0,b.jsx)("input",{type:"checkbox",onClick:function(){if(_e){var e,t=(0,s.Z)(je.adult);t[0]={id:null===(e=t[0])||void 0===e?void 0:e.id,firstName:"",lastName:"",title:"",dob:""},be((function(e){return Z(Z({},e),{},(0,r.Z)({},"adult",t))}))}else{var n=(0,s.Z)(je.adult);n[0]=Z(Z({},n[0]),{},{firstName:ye.first,lastName:ye.last,title:ye.title,dob:ye.birthdate}),be((function(e){return Z(Z({},e),{},(0,r.Z)({},"adult",n))}))}we(!_e)},checked:_e,className:"custom-control-input sebagai-penumpang",id:"customCheck1"}),(0,b.jsx)("label",{className:"custom-control-label",htmlFor:"customCheck1",children:"Sebagai penumpang"})]})]})]}),(0,b.jsx)("h4",{className:"font-weight-bold mt-5 mb-3",children:"Detail Penumpang"}),(0,b.jsxs)("ul",{className:"list-group mb-2",children:[null===(e=je.adult)||void 0===e?void 0:e.map((function(e,t){return(0,b.jsx)(N,{handleAddFromQuickpick:qe,countries:de,handleChange:Be,name:"adult",trainRepricing:te,item:e},t)})),null===(t=je.child)||void 0===t?void 0:t.map((function(e,t){return(0,b.jsx)(N,{handleAddFromQuickpick:qe,countries:de,handleChange:Be,name:"child",trainRepricing:te,item:e},t)})),null===(n=je.infant)||void 0===n?void 0:n.map((function(e,t){return(0,b.jsx)(N,{handleAddFromQuickpick:qe,countries:de,handleChange:Be,name:"infant",trainRepricing:te,item:e},t)}))]})]}),(0,b.jsxs)("div",{className:"col-md-4",children:[(0,b.jsx)("div",{className:"card mb-3",style:{borderRadius:"20px",boxShadow:"-1px 3px 11px -7px rgba(156,156,156,0.75)"},children:(0,b.jsxs)("div",{className:"card-body",children:[(0,b.jsxs)("div",{className:"d-flex",children:[(0,b.jsx)(d.JO,{icon:"pepicons-print:train",className:"text-info mr-3 mt-2",style:{fontSize:"30px"}}),(0,b.jsx)("p",{className:"mb-1 mr-3 font-weight-bold",children:null===xe||void 0===xe||null===(i=xe.data_schedule)||void 0===i?void 0:i.asal_kota}),(0,b.jsx)(d.JO,{icon:"fluent:arrow-swap-28-filled",className:"text-primary mr-3 mt-2",style:{fontSize:"20px"}}),(0,b.jsx)("p",{className:"mb-1 ml-3 font-weight-bold",children:null===xe||void 0===xe||null===(l=xe.data_schedule)||void 0===l?void 0:l.tujuan})]}),(0,b.jsx)("hr",{}),(0,b.jsx)("div",{children:(0,b.jsxs)("p",{className:"font-weight-bold",children:["Departure ",(0,b.jsx)("br",{}),(0,b.jsx)("small",{children:null===xe||void 0===xe?void 0:xe.tgl_schedule})]})}),(0,b.jsx)("div",{className:"mt-3",children:(0,b.jsxs)("p",{className:"font-weight-bold",children:[null===xe||void 0===xe||null===(m=xe.data_schedule)||void 0===m?void 0:m.nama_kereta," (",null===xe||void 0===xe||null===(v=xe.data_schedule)||void 0===v?void 0:v.no_kereta,") ",(0,b.jsx)("br",{}),(0,b.jsxs)("small",{children:[null===xe||void 0===xe||null===(j=xe.data_schedule)||void 0===j?void 0:j.kelas_kereta," (Subclass ",null===xe||void 0===xe||null===(g=xe.data_schedule)||void 0===g?void 0:g.tipe_kereta,")"]})]})}),(0,b.jsx)(L,{className:"mb-2",children:(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("li",{children:[(0,b.jsxs)("p",{className:"mb-0",children:[(0,b.jsx)("b",{className:"mr-2",children:null===xe||void 0===xe||null===(y=xe.data_schedule)||void 0===y?void 0:y.waktu_keberangkatan})," ",(0,b.jsxs)("small",{children:[null===xe||void 0===xe||null===(S=xe.data_schedule)||void 0===S?void 0:S.asal_kota,", ",null===xe||void 0===xe||null===(D=xe.data_schedule)||void 0===D?void 0:D.stasiun_awal," Station"]})]}),(0,b.jsxs)("p",{className:"pt-3",children:[(0,b.jsx)(d.JO,{icon:"pepicons-print:rewind-time",className:"mr-2 text-primary"}),null===xe||void 0===xe||null===(Y=xe.data_schedule)||void 0===Y?void 0:Y.durasi_perjalanan]})]}),(0,b.jsx)("li",{className:!0,children:(0,b.jsxs)("p",{className:"mb-0",children:[(0,b.jsx)("b",{className:"mr-2",children:null===xe||void 0===xe||null===(P=xe.data_schedule)||void 0===P?void 0:P.waktu_tiba})," ",(0,b.jsxs)("small",{children:[null===xe||void 0===xe||null===(R=xe.data_schedule)||void 0===R?void 0:R.tujuan,", ",null===xe||void 0===xe||null===(A=xe.data_schedule)||void 0===A?void 0:A.stasiun_akhir," Station"]})]})})]})})]})}),(0,b.jsxs)("div",{className:"card mb-3",style:{borderRadius:"20px",boxShadow:"-1px 3px 11px -7px rgba(156,156,156,0.75)"},children:[(0,b.jsx)("div",{className:"card-header text-white font-weight-bold",style:{borderTopLeftRadius:"20px",borderTopRightRadius:"20px",background:"#c12735"},children:(0,b.jsx)("h5",{className:"pb-0 mb-0",children:"Rincian Harga "})}),(0,b.jsx)("div",{className:"card-body",children:(0,b.jsxs)("div",{id:"cart-harga",children:[(null===xe||void 0===xe?void 0:xe.adult)>0&&(0,b.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,b.jsx)("span",{className:"pb-2",children:(0,b.jsxs)("strong",{children:[null===xe||void 0===xe?void 0:xe.adult," Dewasa"]})}),(0,b.jsxs)("p",{children:["Rp ",null===xe||void 0===xe||null===(J=xe.data_schedule)||void 0===J?void 0:J.harga_tiket_dewasa.toLocaleString()]})]}),(null===xe||void 0===xe?void 0:xe.infant)>0&&(0,b.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,b.jsx)("span",{className:"pb-2",children:(0,b.jsxs)("strong",{children:[null===xe||void 0===xe?void 0:xe.infant," Bayi"]})}),(0,b.jsxs)("p",{children:["Rp ",null===xe||void 0===xe||null===(Q=xe.data_schedule)||void 0===Q?void 0:Q.harga_tiket_bayi.toLocaleString()]})]}),(0,b.jsx)("hr",{}),(0,b.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,b.jsx)("span",{className:"pb-2",children:(0,b.jsx)("strong",{children:"Subtotal"})}),(0,b.jsxs)("p",{children:["Rp",((null===xe||void 0===xe||null===(q=xe.data_schedule)||void 0===q?void 0:q.harga_tiket_dewasa)*(null===xe||void 0===xe?void 0:xe.adult)+(null===xe||void 0===xe||null===(B=xe.data_schedule)||void 0===B?void 0:B.harga_tiket_bayi)*(null===xe||void 0===xe?void 0:xe.infant)).toLocaleString()]})]}),(0,b.jsx)("hr",{}),(0,b.jsxs)("div",{className:"d-flex justify-content-between align-items-center",children:[(0,b.jsx)("span",{className:"pb-2",children:(0,b.jsx)("strong",{children:"Total"})}),(0,b.jsx)("strong",{children:(0,b.jsxs)("h4",{className:"text-primary font-weight-bold",children:["Rp",((null===xe||void 0===xe||null===(z=xe.data_schedule)||void 0===z?void 0:z.harga_tiket_dewasa)*(null===xe||void 0===xe?void 0:xe.adult)+(null===xe||void 0===xe||null===(H=xe.data_schedule)||void 0===H?void 0:H.harga_tiket_bayi)*(null===xe||void 0===xe?void 0:xe.infant)).toLocaleString()]})})]})]})})]}),(0,b.jsx)(w,{total:(null===xe||void 0===xe||null===(K=xe.data_schedule)||void 0===K?void 0:K.harga_tiket_dewasa)*(null===xe||void 0===xe?void 0:xe.adult)+(null===xe||void 0===xe||null===(G=xe.data_schedule)||void 0===G?void 0:G.harga_tiket_bayi)*(null===xe||void 0===xe?void 0:xe.infant),selectSeat:function(){var e={product:"train",key:te.key,price:Z(Z({},se),{},{discount:se.discount.grandTotal}),coupon:Oe,paymentMethod:ae,contact:Z(Z({},ye),{},{firstName:ye.first,lastName:ye.last}),guest:je.adult.map((function(e){var t,n,a;return Z(Z({},e),{},{dob:"-"===e.dob?"":O()(e.dob).format("DD-MM-YYYY"),passport:{nat:e.nat,num:null!==(t=e.num)&&void 0!==t?t:"",doi:null!==(n=O()(e.doi).format("DD-MM-YYYY"))&&void 0!==n?n:"",doe:null!==(a=O()(e.doe).format("DD-MM-YYYY"))&&void 0!==a?a:""}})})).concat(je.child.map((function(e){var t,n,a;return Z(Z({},e),{},{dob:O()(e.dob).format("DD-MM-YYYY"),passport:{nat:e.nat,num:null!==(t=e.num)&&void 0!==t?t:"",doi:null!==(n=O()(e.doi).format("DD-MM-YYYY"))&&void 0!==n?n:"",doe:null!==(a=O()(e.doe).format("DD-MM-YYYY"))&&void 0!==a?a:""}})}))).concat(je.infant.map((function(e){var t,n,a;return Z(Z({},e),{},{dob:O()(e.dob).format("DD-MM-YYYY"),passport:{nat:e.nat,num:null!==(t=e.num)&&void 0!==t?t:"",doi:null!==(n=O()(e.doi).format("DD-MM-YYYY"))&&void 0!==n?n:"",doe:null!==(a=O()(e.doe).format("DD-MM-YYYY"))&&void 0!==a?a:""}})})))};o.Z.submitCheckout(re,e).then((function(e){e.success?U.push("/user/purchase/detail/".concat(e.data.id_order)):C.Am.error(e.message,{position:"top-right",toastId:"checkout"})}))},onSubmit:function(){var e={first_name:ye.first,last_name:ye.last,title:ye.title.toUpperCase(),phone_number:ye.phone,email:ye.email,origin:xe.origin,destination:xe.destination,departure_date:xe.departure_date,return_date:"OW"===xe.direction?xe.departure_date:xe.return_date,journey_type:xe.direction,adult:xe.adult,child:xe.child,infant:xe.infant,segment_code:xe.data_schedule.segment_code,passengers:je.adult.map((function(e){return{fullname:"".concat(e.firstName+" "+e.lastName),title:e.title,identity_number:e.no_type,identity_type:e.id_type,phone_number:e.phone,birth_date:""===e.dob?"":O()(e.dob).format("YYYY-MM-DD"),pax_type:"ADT"}})).concat(je.child.map((function(e){return{fullname:"".concat(e.firstName+" "+e.lastName),title:e.title,identity_number:e.no_type,identity_type:e.id_type,phone_number:0,birth_date:""===e.dob?"":O()(e.dob).format("YYYY-MM-DD"),pax_type:"CHD"}}))).concat(je.infant.map((function(e){return{fullname:"".concat(e.firstName+" "+e.lastName),title:e.title,identity_number:e.no_type,identity_type:e.id_type,phone_number:e.phone,birth_date:""===e.dob?"":O()(e.dob).format("YYYY-MM-DD"),pax_type:"INF"}})))};o.Z.submitCheckoutTrain(e).then((function(e){200===e.status.code?U.push("/user/purchase/train/".concat(e.data.id_order)):e.errors.forEach((function(e){C.Am.error(e.message,{position:"top-right",toastId:"checkout"})}))}))}})]})]})]}),(0,b.jsxs)(p.Z,{isOpen:Te,toggle:Je,centered:!0,size:"lg",children:[(0,b.jsx)(x.Z,{toggle:Je,children:(0,b.jsxs)("h5",{children:["Pilih kupon ",(0,b.jsx)(d.JO,{icon:_.Z})]})}),(0,b.jsxs)(f.Z,{children:[(0,b.jsxs)("div",{className:"input-group mb-3",children:[(0,b.jsx)("input",{type:"text",value:Ee,onChange:function(e){return Re(e.target.value)},className:"form-control",placeholder:"Enter Code . . . "}),(0,b.jsx)("div",{className:"input-group-append",children:(0,b.jsx)("button",{onClick:function(){return Ae(Ee)},className:"btn btn-outline-primary",type:"button",children:(0,b.jsx)(d.JO,{icon:k.Z})})})]}),(0,b.jsx)("div",{className:"container",children:null===se||void 0===se?void 0:se.user.coupon.map((function(e){return(0,b.jsxs)("div",{className:"row border rounded",children:[(0,b.jsx)("div",{className:"col-3 rounded d-flex bg-warning align-items-center justify-content-center",children:(0,b.jsx)("h6",{children:e.name})}),(0,b.jsxs)("div",{className:"col-9 d-flex justify-content-between p-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h6",{children:["Potongan ",e.amount.toLocaleString()]}),e.minimum_transaction>0&&(0,b.jsxs)("p",{children:["Min.Blnj Rp",e.minimum_transaction.toLocaleString()]}),(0,b.jsx)("button",{onClick:function(){return Ae(e.id.toString())},type:"button",className:"btn btn-primary",children:"Gunakan"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("small",{children:["Hingga: ",e.expired]}),(0,b.jsx)("p",{children:e.term})]})]})]})}))})]})]})]}):(0,b.jsx)("h1",{className:"text-center my-4",children:"Loading..."})}):(0,b.jsxs)("div",{style:{height:"50vh",marginBottom:"5rem"},className:"d-flex flex-column align-items-center justify-content-center",children:[(0,b.jsx)("img",{src:"https://cdn.masterdiskon.com/masterdiskon/assets/front/img/src/pulse-spinner.svg"}),(0,b.jsx)("h4",{children:"Sedang menyiapkan data..."})]})}),J=n(69353),Q=n(3467),q=n(9008),B=n(1852);function z(){var e=(0,B.useMediaQuery)({query:"(max-width:1224px)"})?J.Z:A;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(q.default,{children:(0,b.jsx)("title",{children:"Harga tiket kereta murah - Cari & pesan online di masterdiskon.com"})}),(0,b.jsx)(e,{})]})}z.Layout={desktop:i.Z,mobile:a.Fragment};var H=(0,Q.Z)(z,{auth:!0,pathAfterFailure:"/login"})},17962:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/product/train/train-passenger/[id]",function(){return n(57904)}])}},function(e){e.O(0,[6319,1954,186,7381,542,5496,4317,1844,9512,768,454,6385,6781,9774,2888,179],(function(){return t=17962,e(e.s=t);var t}));var t=e.O();_N_E=t}]);